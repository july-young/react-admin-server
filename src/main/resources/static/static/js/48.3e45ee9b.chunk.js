(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[48],{1257:function(e,t,o){var i=o(216),r=o(272),a=o(719),n=o(263),l=o(247),s=l.encodeHTML,d=l.addCommas,u=o(600).wrapTreePathInfo,h=r.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var o={name:e.name,children:e.data};!function e(t){var o=0;i.each(t.children,(function(t){e(t);var r=t.value;i.isArray(r)&&(r=r[0]),o+=r}));var r=t.value;i.isArray(r)&&(r=r[0]),null!=r&&!isNaN(r)||(r=o),r<0&&(r=0),i.isArray(t.value)?t.value[0]=r:t.value=r}(o);var r=e.levels||[];r=e.levels=function(e,t){var o,r=t.get("color");if(r)return e=e||[],i.each(e,(function(e){var t=new n(e),i=t.get("color");(t.get("itemStyle.color")||i&&"none"!==i)&&(o=!0)})),o||((e[0]||(e[0]={})).color=r.slice()),e}(r,t);var l={};return l.levels=r,a.createTree(o,this,l).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),o=this.getRawValue(e),r=i.isArray(o)?d(o[0]):d(o),a=t.getName(e);return s(a+": "+r)},getDataParams:function(e){var t=r.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=u(o,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},i.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=i.createHashMap(),this._idIndexMapCount=0);var o=t.get(e);return null==o&&t.set(e,o=this._idIndexMapCount++),o},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});e.exports=h},1258:function(e,t,o){function i(e){var t=M(e);return t.stroke=t.fill=t.lineWidth=null,t}var r=o(220),a=o(216),n=o(222),l=o(597),s=o(600),d=o(1259),u=o(636),h=o(246),c=o(286),g=o(1260),p=o(608),f=a.bind,v=n.Group,m=n.Rect,y=a.each,w=["label"],_=["emphasis","label"],x=["upperLabel"],b=["emphasis","upperLabel"],M=p([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),R=r.extendChartView({type:"treemap",init:function(){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(e,t,o,i){var r=t.findComponents({mainType:"series",subType:"treemap",query:i});if(!(a.indexOf(r,e)<0)){this.seriesModel=e,this.api=o,this.ecModel=t;var n=s.retrieveTargetInfo(i,["treemapZoomToNode","treemapRootToNode"],e),l=i&&i.type,d=e.layoutInfo,u=!this._oldTree,h=this._storage,c="treemapRootToNode"===l&&n&&h?{rootNodeGroup:h.nodeGroup[n.node.getRawIndex()],direction:i.direction}:null,g=this._giveContainerGroup(d),p=this._doRender(g,e,c);u||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?p.renderFinally():this._doAnimation(g,p,e,c),this._resetController(o),this._renderBreadcrumb(e,o,n)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new v,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,o){var i=t.getData().tree,r=this._oldTree,n={nodeGroup:[],background:[],content:[]},s={nodeGroup:[],background:[],content:[]},d=this._storage,u=[],h=a.curry(I,t,s,d,o,n,u);!function e(t,o,i,r,n){function s(e){return e.getId()}function d(a,l){var s=null!=a?t[a]:null,d=null!=l?o[l]:null,u=h(s,d,i,n);u&&e(s&&s.viewChildren||[],d&&d.viewChildren||[],u,r,n+1)}r?y(o=t,(function(e,t){e.isRemoved()||d(t,t)})):new l(o,t,s,s).add(d).update(d).remove(a.curry(d,null)).execute()}(i.root?[i.root]:[],r&&r.root?[r.root]:[],e,i===r||!r,0);var c,g,p=(g={nodeGroup:[],background:[],content:[]},(c=d)&&y(c,(function(e,t){var o=g[t];y(e,(function(e){e&&(o.push(e),e.__tmWillDelete=1)}))})),g);return this._oldTree=i,this._storage=s,{lastsForAnimation:n,willDeleteEls:p,renderFinally:function(){y(p,(function(e){y(e,(function(e){e.parent&&e.parent.remove(e)}))})),y(u,(function(e){e.invisible=!0,e.dirty()}))}}},_doAnimation:function(e,t,o,i){if(o.get("animation")){var r=o.get("animationDurationUpdate"),n=o.get("animationEasing"),l=g.createWrap();y(t.willDeleteEls,(function(e,t){y(e,(function(e,o){if(!e.invisible){var a,s=e.parent;if(i&&"drillDown"===i.direction)a=s===i.rootNodeGroup?{shape:{x:0,y:0,width:s.__tmNodeWidth,height:s.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,u=0;s.__tmWillDelete||(d=s.__tmNodeWidth/2,u=s.__tmNodeHeight/2),a="nodeGroup"===t?{position:[d,u],style:{opacity:0}}:{shape:{x:d,y:u,width:0,height:0},style:{opacity:0}}}a&&l.add(e,a,r,n)}}))})),y(this._storage,(function(e,o){y(e,(function(e,i){var s=t.lastsForAnimation[o][i],d={};s&&("nodeGroup"===o?s.old&&(d.position=e.position.slice(),e.attr("position",s.old)):(s.old&&(d.shape=a.extend({},e.shape),e.setShape(s.old)),s.fadein?(e.setStyle("opacity",0),d.style={opacity:1}):1!==e.style.opacity&&(d.style={opacity:1})),l.add(e,d,r,n))}))}),this),this._state="animating",l.done(f((function(){this._state="ready",t.renderFinally()}),this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new u(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",f(this._onPan,this)),t.on("zoom",f(this._onZoom,this)));var o=new h(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,i){return o.contain(t,i)}))},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(3<Math.abs(e.dx)||3<Math.abs(e.dy))){var t=this.seriesModel.getData().tree.root;if(!t)return;var o=t.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}},_onZoom:function(e){var t=e.originX,o=e.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var a=new h(r.x,r.y,r.width,r.height),n=this.seriesModel.layoutInfo;t-=n.x,o-=n.y;var l=c.create();c.translate(l,l,[-t,-o]),c.scale(l,l,[e.scale,e.scale]),c.translate(l,l,[t,o]),a.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(e){e.on("click",(function(e){if("ready"===this._state){var t=this.seriesModel.get("nodeClick",!0);if(t){var o=this.findTarget(e.offsetX,e.offsetY);if(o){var i=o.node;if(i.getLayout().isLeafRoot)this._rootToNode(o);else if("zoomToNode"===t)this._zoomToNode(o);else if("link"===t){var r=i.hostTree.data.getItemModel(i.dataIndex),a=r.get("link",!0),n=r.get("target",!0)||"blank";a&&window.open(a,n)}}}}}),this)},_renderBreadcrumb:function(e,t,o){o=o||(o=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||{node:e.getData().tree.root},(this._breadcrumb||(this._breadcrumb=new d(this.group))).render(e,t,o.node,f((function(t){"animating"!==this._state&&(s.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))}),this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(i){var r=this._storage.background[i.getRawIndex()];if(r){var a=r.transformCoordToLocal(e,t),n=r.shape;if(!(n.x<=a[0]&&a[0]<=n.x+n.width&&n.y<=a[1]&&a[1]<=n.y+n.height))return!1;o={node:i,offsetX:a[0],offsetY:a[1]}}}),this),o}});function I(e,t,o,r,l,s,d,u,h,c){if(d){var g=d.getLayout();if(g&&g.isInView){var p=g.width,f=g.height,y=g.borderWidth,R=g.invisible,I=d.getRawIndex(),T=u&&u.getRawIndex(),N=d.viewChildren,L=g.upperHeight,V=N&&N.length,C=d.getModel("itemStyle"),D=d.getModel("emphasis.itemStyle"),S=H("nodeGroup",v);if(S){if(h.add(S),S.attr("position",[g.x||0,g.y||0]),S.__tmNodeWidth=p,S.__tmNodeHeight=f,g.isAboveViewRoot)return S;var A=H("background",m,c,1);if(A&&function(t,o,r){o.dataIndex=d.dataIndex,o.seriesIndex=e.seriesIndex,o.setShape({x:0,y:0,width:p,height:f});var a=d.getVisual("borderColor",!0),l=D.get("borderColor");G(o,(function(){var e=i(C);e.fill=a;var t=M(D);if(t.fill=l,r){var s=p-2*y;k(e,t,a,s,L,{x:y,y:0,width:s,height:L})}else e.text=t.text=null;o.setStyle(e),n.setHoverStyle(o,t)})),t.add(o)}(S,A,V&&g.upperHeight),!V){var W=H("content",m,c,2);W&&function(t,o){o.dataIndex=d.dataIndex,o.seriesIndex=e.seriesIndex;var r=Math.max(p-2*y,0),a=Math.max(f-2*y,0);o.culling=!0,o.setShape({x:y,y:y,width:r,height:a});var l=d.getVisual("color",!0);G(o,(function(){var e=i(C);e.fill=l;var t=M(D);k(e,t,l,r,a),o.setStyle(e),n.setHoverStyle(o,t)})),t.add(o)}(S,W)}return S}}}function G(e,t){R?e.invisible||s.push(e):(t(),e.__tmWillVisible||(e.invisible=!1))}function k(t,o,i,r,l,s){var u=d.getModel(),h=a.retrieve(e.getFormattedLabel(d.dataIndex,"normal",null,null,s?"upperLabel":"label"),u.get("name"));if(!s&&g.isLeafRoot){var c=e.get("drillDownIcon",!0);h=c?c+" "+h:h}var p=u.getModel(s?x:w),f=u.getModel(s?b:_),v=p.getShallow("show");n.setLabelStyle(t,o,p,f,{defaultText:v?h:null,autoColor:i,isRectText:!0}),s&&(t.textRect=a.clone(s)),t.truncate=v&&p.get("ellipsis")?{outerWidth:r,outerHeight:l,minChar:2}:null}function H(e,i,n,s){var u,h,c,g=null!=T&&o[e][T],p=l[e];return g?(o[e][T]=null,h=g,c=e,(p[I]={}).old="nodeGroup"===c?h.position.slice():a.extend({},h.shape)):R||((g=new i({z:((u=10*n+s)-1)/u})).__tmDepth=n,function(e,t){var o=e[I]={},i=d.parentNode;if(i&&(!r||"drillDown"===r.direction)){var a=0,n=0,s=l.background[i.getRawIndex()];!r&&s&&s.old&&(a=s.old.width,n=s.old.height),o.old="nodeGroup"===t?[0,n]:{x:a,y:n,width:0,height:0}}o.fadein="nodeGroup"!==t}(p,g.__tmStorageName=e)),t[e][I]=g}}e.exports=R},1261:function(e,t,o){function i(){}for(var r=o(220),a=o(600),n=["treemapZoomToNode","treemapRender","treemapMove"],l=0;l<n.length;l++)r.registerAction({type:n[l],update:"updateView"},i);r.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,o){var i=a.retrieveTargetInfo(e,["treemapZoomToNode","treemapRootToNode"],t);if(i){var r=t.getViewRoot();r&&(e.direction=a.aboveViewRoot(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}))}))},1262:function(e,t,o){var i=o(601),r=o(367),a=o(216),n=a.isArray,l="itemStyle",s={seriesType:"treemap",reset:function(e){var t=e.getData().tree,o=t.root,i=e.getModel(l);o.isRemoved()||function e(t,o,i,n,s,u){var c=t.getModel(),g=t.getLayout();if(g&&!g.invisible&&g.isInView){var p,f,v,m=t.getModel(l),y=function(e,t,o,i){var r=a.extend({},t);return a.each(["color","colorAlpha","colorSaturation"],(function(a){var n=e.get(a,!0);null==n&&o&&(n=o[a]),null==n&&(n=t[a]),null==n&&(n=i.get(a)),null!=n&&(r[a]=n)})),r}(m,o,i[t.depth],n),w=m.get("borderColor"),_=m.get("borderColorSaturation");null!=_&&(f=_,w=null!=(v=p=d(y))?r.modifyHSL(v,null,null,f):null),t.setVisual("borderColor",w);var x=t.viewChildren;if(x&&x.length){var b=h(t,c,g,m,y,x);a.each(x,(function(t,o){if(t.depth>=s.length||t===s[t.depth]){var r=function(e,t,o,i,r,n){var l=a.extend({},t);if(r){var s=r.type,d="color"===s&&r.__drColorMappingBy,u="index"===d?i:"id"===d?n.mapIdToIndex(o.getId()):o.getValue(e.get("visualDimension"));l[s]=r.mapValueToVisual(u)}return l}(c,y,t,o,b,u);e(t,r,i,n,s,u)}}))}else p=d(y),t.setVisual("color",p)}}(o,{},a.map(t.levelModels,(function(e){return e?e.get(l):null})),i,e.getViewRoot().getAncestors(),e)}};function d(e){var t=u(e,"color");if(t){var o=u(e,"colorAlpha"),i=u(e,"colorSaturation");return i&&(t=r.modifyHSL(t,null,null,i)),o&&(t=r.modifyAlpha(t,o)),t}}function u(e,t){var o=e[t];if(null!=o&&"none"!==o)return o}function h(e,t,o,r,a,n){if(n&&n.length){var l=c(t,"color")||null!=a.color&&"none"!==a.color&&(c(t,"colorAlpha")||c(t,"colorSaturation"));if(l){var s=t.get("visualMin"),d=t.get("visualMax"),u=o.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=d&&d>u[1]&&(u[1]=d);var h=t.get("colorMappingBy"),g={type:l.name,dataExtent:u,visual:l.range};"color"!==g.type||"index"!==h&&"id"!==h?g.mappingMethod="linear":(g.mappingMethod="category",g.loop=!0);var p=new i(g);return p.__drColorMappingBy=h,p}}}function c(e,t){var o=e.get(t);return n(o)&&o.length?{name:t,range:o}:null}e.exports=s},1263:function(e,t,o){var i=o(216),r=o(246),a=o(224),n=a.parsePercent,l=a.MAX_SAFE_INTEGER,s=o(240),d=o(600),u=Math.max,h=Math.min,c=i.retrieve,g=i.each,p=["itemStyle","borderWidth"],f=["itemStyle","gapWidth"],v=["upperLabel","show"],m=["upperLabel","height"],y={seriesType:"treemap",reset:function(e,t,o,a){var v=o.getWidth(),m=o.getHeight(),y=e.option,M=s.getLayoutRect(e.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),R=y.size||[],I=n(c(M.width,R[0]),v),T=n(c(M.height,R[1]),m),N=a&&a.type,L=d.retrieveTargetInfo(a,["treemapZoomToNode","treemapRootToNode"],e),V="treemapRender"===N||"treemapMove"===N?a.rootRect:null,C=e.getViewRoot(),D=d.getPathToRoot(C);if("treemapMove"!==N){var S="treemapZoomToNode"===N?function(e,t,o,i,r){var a,n=(t||{}).node,s=[i,r];if(!n||n===o)return s;for(var d=i*r,u=d*e.option.zoomToNodeRatio;a=n.parentNode;){for(var h=0,c=a.children,g=0,f=c.length;g<f;g++)h+=c[g].getValue();var v=n.getValue();if(0===v)return s;u*=h/v;var m=a.getModel(),y=m.get(p);u+=4*y*y+(3*y+Math.max(y,b(m)))*Math.pow(u,.5),l<u&&(u=l),n=a}u<d&&(u=d);var w=Math.pow(u/d,.5);return[i*w,r*w]}(e,L,C,I,T):V?[V.width,V.height]:[I,T],A=y.sort;A&&"asc"!==A&&"desc"!==A&&(A="desc");var W={squareRatio:y.squareRatio,sort:A,leafDepth:y.leafDepth};C.hostTree.clearLayouts();var G={x:0,y:0,width:S[0],height:S[1],area:S[0]*S[1]};C.setLayout(G),function e(t,o,i,r){var a,n;if(!t.isRemoved()){var l=t.getLayout();a=l.width,n=l.height;var s=(y=t.getModel()).get(p),d=y.get(f)/2,c=b(y),g=Math.max(s,c),v=s-d,m=g-d,y=t.getModel();t.setLayout({borderWidth:s,upperHeight:g,upperLabelHeight:c},!0);var M=(a=u(a-2*v,0))*(n=u(n-v-m,0)),R=w(t,y,M,o,i,r);if(R.length){var I={x:v,y:m,width:a,height:n},T=h(a,n),N=1/0,L=[];L.area=0;for(var V=0,C=R.length;V<C;){var D=R[V];L.push(D),L.area+=D.getLayout().area;var S=_(L,T,o.squareRatio);N=S<=N?(V++,S):(L.area-=L.pop().getLayout().area,x(L,T,I,d,!1),T=h(I.width,I.height),L.length=L.area=0,1/0)}if(L.length&&x(L,T,I,d,!0),!i){var A=y.get("childrenVisibleMin");null!=A&&M<A&&(i=!0)}for(V=0,C=R.length;V<C;V++)e(R[V],o,i,r+1)}}}(C,W,!1,0),G=C.getLayout(),g(D,(function(e,t){var o=(D[t+1]||C).getValue();e.setLayout(i.extend({dataExtent:[o,o],borderWidth:0,upperHeight:0},G))}))}var k=e.getData().tree.root;k.setLayout(function(e,t,o){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!o)return i;var r=o.node,a=r.getLayout();if(!a)return i;for(var n=[a.width/2,a.height/2],l=r;l;){var s=l.getLayout();n[0]+=s.x,n[1]+=s.y,l=l.parentNode}return{x:e.width/2-n[0],y:e.height/2-n[1]}}(M,V,L),!0),e.setLayoutInfo(M),function e(t,o,i,a,n){var l=t.getLayout(),s=i[n],d=s&&s===t;if(!(s&&!d||n===i.length&&t!==a)){t.setLayout({isInView:!0,invisible:!d&&!o.intersect(l),isAboveViewRoot:d},!0);var u=new r(o.x-l.x,o.y-l.y,o.width,o.height);g(t.viewChildren||[],(function(t){e(t,u,i,a,n+1)}))}}(k,new r(-M.x,-M.y,v,m),D,C,0)}};function w(e,t,o,r,a,n){var l=e.children||[],s=r.sort;"asc"!==s&&"desc"!==s&&(s=null);var d,u=null!=r.leafDepth&&r.leafDepth<=n;if(a&&!u)return e.viewChildren=[];l=i.filter(l,(function(e){return!e.isRemoved()})),(d=s)&&l.sort((function(e,t){var o="asc"===d?e.getValue()-t.getValue():t.getValue()-e.getValue();return 0==o?"asc"===d?e.dataIndex-t.dataIndex:t.dataIndex-e.dataIndex:o}));var h=function(e,t,o){for(var i=0,r=0,a=t.length;r<a;r++)i+=t[r].getValue();var n=e.get("visualDimension");if(t&&t.length)if("value"===n&&o)l=[t[t.length-1].getValue(),t[0].getValue()],"asc"===o&&l.reverse();else{var l=[1/0,-1/0];g(t,(function(e){var t=e.getValue(n);t<l[0]&&(l[0]=t),t>l[1]&&(l[1]=t)}))}else l=[NaN,NaN];return{sum:i,dataExtent:l}}(t,l,s);if(0===h.sum)return e.viewChildren=[];if(h.sum=function(e,t,o,i,r){if(!i)return o;for(var a=e.get("visibleMin"),n=r.length,l=n,s=n-1;0<=s;s--){var d=r["asc"===i?n-s-1:s].getValue();d/o*t<a&&(l=s,o-=d)}return"asc"===i?r.splice(0,n-l):r.splice(l,n-l),o}(t,o,h.sum,s,l),0===h.sum)return e.viewChildren=[];for(var c=0,p=l.length;c<p;c++){var f=l[c].getValue()/h.sum*o;l[c].setLayout({area:f})}return u&&(l.length&&e.setLayout({isLeafRoot:!0},!0),l.length=0),e.viewChildren=l,e.setLayout({dataExtent:h.dataExtent},!0),l}function _(e,t,o){for(var i,r=0,a=1/0,n=0,l=e.length;n<l;n++)(i=e[n].getLayout().area)&&(i<a&&(a=i),r<i&&(r=i));var s=e.area*e.area,d=t*t*o;return s?u(d*r/s,s/(d*a)):1/0}function x(e,t,o,i,r){var a=t===o.width?0:1,n=1-a,l=["x","y"],s=["width","height"],d=o[l[a]],c=t?e.area/t:0;(r||c>o[s[n]])&&(c=o[s[n]]);for(var g=0,p=e.length;g<p;g++){var f=e[g],v={},m=c?f.getLayout().area/c:0,y=v[s[n]]=u(c-2*i,0),w=o[l[a]]+o[s[a]]-d,_=g===p-1||w<m?w:m,x=v[s[a]]=u(_-2*i,0);v[l[n]]=o[l[n]]+h(i,y/2),v[l[a]]=d+h(i,x/2),d+=_,f.setLayout(v,!0)}o[l[n]]+=c,o[s[n]]-=c}function b(e){return e.get(v)?e.get(m):0}e.exports=y}}]);