(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[156],{268:function(e,t,n){"use strict";var o=n(0),r=n(17),i=n(238),a=n(35),s=n.n(a),c=n(264),l=n.n(c),u=n(225),f=n(234);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(){function e(){var t,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o=m(e).apply(this,arguments),(t=!o||"object"!==p(o)&&"function"!=typeof o?h(n):o).onKeyDown=function(e){if(e.keyCode===i.a.ENTER)return t.onClick(e),!0},t.onMouseLeave=function(e){var n=t.props,o=n.eventKey,r=n.onItemHover,i=n.onMouseLeave;r({key:o,hover:!1}),i({key:o,domEvent:e})},t.onMouseEnter=function(e){var n=t.props,o=n.eventKey,r=n.onItemHover,i=n.onMouseEnter;r({key:o,hover:!0}),i({key:o,domEvent:e})},t.onClick=function(e){var n=t.props,o=n.eventKey,r=n.multiple,i=n.onClick,a=n.onSelect,s=n.onDeselect,c=n.isSelected,l={key:o,keyPath:[o],item:h(t),domEvent:e};i(l),r?(c?s:a)(l):c||a(l)},t.saveNode=function(e){t.node=e},t}var t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(e,o.Component),t=e,(n=[{key:"componentDidMount",value:function(){this.callRef()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.active,o=t.parentMenu,i=t.eventKey;e.active||!n||o&&o["scrolled-".concat(i)]?o&&o["scrolled-".concat(i)]&&delete o["scrolled-".concat(i)]:this.node&&(l()(this.node,r.findDOMNode(o),{onlyScrollIfNeeded:!0}),o["scrolled-".concat(i)]=!0),this.callRef()}},{key:"componentWillUnmount",value:function(){var e=this.props;e.onDestroy&&e.onDestroy(e.eventKey)}},{key:"getPrefixCls",value:function(){return"".concat(this.props.rootPrefixCls,"-item")}},{key:"getActiveClassName",value:function(){return"".concat(this.getPrefixCls(),"-active")}},{key:"getSelectedClassName",value:function(){return"".concat(this.getPrefixCls(),"-selected")}},{key:"getDisabledClassName",value:function(){return"".concat(this.getPrefixCls(),"-disabled")}},{key:"callRef",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"render",value:function(){var e,t=v({},this.props),n=s()(this.getPrefixCls(),t.className,(y(e={},this.getActiveClassName(),!t.disabled&&t.active),y(e,this.getSelectedClassName(),t.isSelected),y(e,this.getDisabledClassName(),t.disabled),e)),r=v({},t.attribute,{title:t.title,className:n,role:t.role||"menuitem","aria-disabled":t.disabled});"option"===t.role?r=v({},r,{role:"option","aria-selected":t.isSelected}):null!==t.role&&"none"!==t.role||(r.role="none");var i={onClick:t.disabled?null:this.onClick,onMouseLeave:t.disabled?null:this.onMouseLeave,onMouseEnter:t.disabled?null:this.onMouseEnter},a=v({},t.style);"inline"===t.mode&&(a.paddingLeft=t.inlineIndent*t.level),f.g.forEach((function(e){return delete t[e]}));var c=this.props.itemIcon;return"function"==typeof this.props.itemIcon&&(c=o.createElement(this.props.itemIcon,this.props)),o.createElement("li",Object.assign({},t,r,i,{style:a,ref:this.saveNode}),t.children,c)}}])&&b(t.prototype,n),e}();g.isMenuItem=!0,g.defaultProps={onSelect:f.h,onMouseEnter:f.h,onMouseLeave:f.h,manualRef:f.h};var w=Object(u.connect)((function(e,t){var n=e.activeKey,o=e.selectedKeys,r=t.eventKey;return{active:n[t.subMenuKey]===r,isSelected:-1!==o.indexOf(r)}}))(g);t.a=w},269:function(e,t,n){"use strict";var o=n(0),r=n(234);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function e(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=c(this,l(e).apply(this,arguments))).renderInnerMenuItem=function(e){var n=t.props;return(0,n.renderMenuItem)(e,n.index,t.props.subMenuKey)},t}var t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,o.Component),t=e,(n=[{key:"render",value:function(){var e=a({},this.props),t=e.className,n=void 0===t?"":t,i=e.rootPrefixCls,s="".concat(i,"-item-group-title"),c="".concat(i,"-item-group-list"),l=e.title,u=e.children;return r.g.forEach((function(t){return delete e[t]})),delete e.onClick,o.createElement("li",Object.assign({},e,{className:"".concat(n," ").concat(i,"-item-group")}),o.createElement("div",{className:s,title:"string"==typeof l?l:void 0},l),o.createElement("ul",{className:c},o.Children.map(u,this.renderInnerMenuItem)))}}])&&s(t.prototype,n),e}();f.isMenuItemGroup=!0,f.defaultProps={disabled:!0},t.a=f},300:function(e,t,n){"use strict";function o(e){var t=e.className,n=e.rootPrefixCls,o=e.style;return r.createElement("li",{className:"".concat(t," ").concat(n,"-item-divider"),style:o})}var r=n(0);o.defaultProps={disabled:!0,className:"",style:{}},t.a=o},370:function(e,t,n){"use strict";var o=n(4),r=n.n(o),i=n(6),a=n.n(i),s=n(9),c=n.n(s),l=n(11),u=n.n(l),f=n(10),p=n.n(f),d=n(15),v=n.n(d),y=n(0),b=n.n(y),m=n(1),h=n.n(m),O=n(217),g=n(455),w=n(35),S=n.n(w),j=n(252),E=n.n(j),P=!("undefined"==typeof window||!window.document||!window.document.createElement);function k(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var C,M,N,K=(C=P,M="undefined"!=typeof window?window:{},N={animationend:k("Animation","AnimationEnd"),transitionend:k("Transition","TransitionEnd")},C&&("AnimationEvent"in M||delete N.animationend.animation,"TransitionEvent"in M||delete N.transitionend.transition),N),A={};P&&(A=document.createElement("div").style);var I={};function D(e){if(I[e])return I[e];var t=K[e];if(t)for(var n=Object.keys(t),o=n.length,r=0;r<o;r+=1){var i=n[r];if(Object.prototype.hasOwnProperty.call(t,i)&&i in A)return I[e]=t[i],I[e]}return""}var x=D("animationend"),_=D("transitionend"),L=!(!x||!_);function R(e,t){return e?"object"!=typeof e?e+"-"+t:e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:null}var z="none",T="appear",W="enter",U="leave",F={eventProps:h.a.object,visible:h.a.bool,children:h.a.func,motionName:h.a.oneOfType([h.a.string,h.a.object]),motionAppear:h.a.bool,motionEnter:h.a.bool,motionLeave:h.a.bool,motionLeaveImmediately:h.a.bool,removeOnLeave:h.a.bool,leavedClassName:h.a.string,onAppearStart:h.a.func,onAppearActive:h.a.func,onAppearEnd:h.a.func,onEnterStart:h.a.func,onEnterActive:h.a.func,onEnterEnd:h.a.func,onLeaveStart:h.a.func,onLeaveActive:h.a.func,onLeaveEnd:h.a.func};t.a=function(e){var t=e,n=!!b.a.forwardRef;function o(e){return e.motionName&&t}"object"==typeof e&&(t=e.transitionSupport,n="forwardRef"in e?e.forwardRef:n);var i,s=(i=b.a.Component,v()(l,i),u()(l,[{key:"componentDidMount",value:function(){this.onDomUpdate()}},{key:"componentDidUpdate",value:function(){this.onDomUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyed=!0,this.removeEventListener(this.$cacheEle),this.cancelNextFrame()}},{key:"render",value:function(){var e,t=this.state,n=t.status,i=t.statusActive,s=t.statusStyle,c=this.props,l=c.children,u=c.motionName,f=c.visible,p=c.removeOnLeave,d=c.leavedClassName,v=c.eventProps;return l?n!==z&&o(this.props)?l(a()({},v,{className:S()((e={},r()(e,R(u,n),n!==z),r()(e,R(u,n+"-active"),n!==z&&i),r()(e,u,"string"==typeof u),e)),style:s}),this.setNodeRef):f?l(a()({},v),this.setNodeRef):p?null:l(a()({},v,{className:d}),this.setNodeRef):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.status;if(!o(e))return{};var i=e.visible,a=e.motionAppear,s=e.motionEnter,c=e.motionLeave,l=e.motionLeaveImmediately,u={prevProps:e};return(r===T&&!a||r===W&&!s||r===U&&!c)&&(u.status=z,u.statusActive=!1,u.newStatus=!1),!n&&i&&a&&(u.status=T,u.statusActive=!1,u.newStatus=!0),n&&!n.visible&&i&&s&&(u.status=W,u.statusActive=!1,u.newStatus=!0),(n&&n.visible&&!i&&c||!n&&l&&!i&&c)&&(u.status=U,u.statusActive=!1,u.newStatus=!0),u}}]),l);function l(){c()(this,l);var e=p()(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.onDomUpdate=function(){var t=e.state,n=t.status,r=t.newStatus,i=e.props,a=i.onAppearStart,s=i.onEnterStart,c=i.onLeaveStart,l=i.onAppearActive,u=i.onEnterActive,f=i.onLeaveActive,p=i.motionAppear,d=i.motionEnter,v=i.motionLeave;if(o(e.props)){var y=e.getElement();e.$cacheEle!==y&&(e.removeEventListener(e.$cacheEle),e.addEventListener(y),e.$cacheEle=y),r&&n===T&&p?e.updateStatus(a,null,null,(function(){e.updateActiveStatus(l,T)})):r&&n===W&&d?e.updateStatus(s,null,null,(function(){e.updateActiveStatus(u,W)})):r&&n===U&&v&&e.updateStatus(c,null,null,(function(){e.updateActiveStatus(f,U)}))}},e.onMotionEnd=function(t){var n=e.state,o=n.status,r=n.statusActive,i=e.props,a=i.onAppearEnd,s=i.onEnterEnd,c=i.onLeaveEnd;o===T&&r?e.updateStatus(a,{status:z},t):o===W&&r?e.updateStatus(s,{status:z},t):o===U&&r&&e.updateStatus(c,{status:z},t)},e.setNodeRef=function(t){var n=e.props.internalRef;e.node=t,"function"==typeof n?n(t):n&&"current"in n&&(n.current=t)},e.getElement=function(){return Object(g.a)(e.node||e)},e.addEventListener=function(t){t&&(t.addEventListener(_,e.onMotionEnd),t.addEventListener(x,e.onMotionEnd))},e.removeEventListener=function(t){t&&(t.removeEventListener(_,e.onMotionEnd),t.removeEventListener(x,e.onMotionEnd))},e.updateStatus=function(t,n,o,r){var i=t?t(e.getElement(),o):null;if(!1!==i&&!e._destroyed){var s=void 0;r&&(s=function(){e.nextFrame(r)}),e.setState(a()({statusStyle:"object"==typeof i?i:null,newStatus:!1},n),s)}},e.updateActiveStatus=function(t,n){e.nextFrame((function(){e.state.status===n&&e.updateStatus(t,{statusActive:!0})}))},e.nextFrame=function(t){e.cancelNextFrame(),e.raf=E()(t)},e.cancelNextFrame=function(){e.raf&&(E.a.cancel(e.raf),e.raf=null)},e.state={status:z,statusActive:!1,newStatus:!1,statusStyle:null},e.$cacheEle=null,e.node=null,e.raf=null,e}return s.propTypes=a()({},F,{internalRef:h.a.oneOfType([h.a.object,h.a.func])}),s.defaultProps={visible:!0,motionEnter:!0,motionAppear:!0,motionLeave:!0,removeOnLeave:!0},Object(O.polyfill)(s),n?b.a.forwardRef((function(e,t){return b.a.createElement(s,a()({internalRef:t},e))})):s}(L)},461:function(e,t,n){"use strict";var o=n(0),r=n(225),i=n(299),a=n(234),s=n(465);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(){function e(t){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=d(e).call(this,t),(n=!o||"object"!==c(o)&&"function"!=typeof o?v(this):o).onSelect=function(e){var t=v(n).props;if(t.selectable){var o=n.store.getState().selectedKeys,r=e.key;o=t.multiple?o.concat([r]):[r],"selectedKeys"in t||n.store.setState({selectedKeys:o}),t.onSelect(u({},e,{selectedKeys:o}))}},n.onClick=function(e){n.props.onClick(e)},n.onKeyDown=function(e,t){n.innerMenu.getWrappedInstance().onKeyDown(e,t)},n.onOpenChange=function(e){function t(e){var t=!1;if(e.open)(t=-1===r.indexOf(e.key))&&r.push(e.key);else{var n=r.indexOf(e.key);(t=-1!==n)&&r.splice(n,1)}i=i||t}var o=v(n).props,r=n.store.getState().openKeys.concat(),i=!1;Array.isArray(e)?e.forEach(t):t(e),i&&("openKeys"in n.props||n.store.setState({openKeys:r}),o.onOpenChange(r))},n.onDeselect=function(e){var t=v(n).props;if(t.selectable){var o=n.store.getState().selectedKeys.concat(),r=e.key,i=o.indexOf(r);-1!==i&&o.splice(i,1),"selectedKeys"in t||n.store.setState({selectedKeys:o}),t.onDeselect(u({},e,{selectedKeys:o}))}},n.getOpenTransitionName=function(){var e=v(n).props,t=e.openTransitionName,o=e.openAnimation;return t||"string"!=typeof o||(t="".concat(e.prefixCls,"-open-").concat(o)),t},n.setInnerMenu=function(e){n.innerMenu=e},n.isRootMenu=!0;var a=t.defaultSelectedKeys,s=t.defaultOpenKeys;return"selectedKeys"in t&&(a=t.selectedKeys||[]),"openKeys"in t&&(s=t.openKeys||[]),n.store=Object(r.create)({selectedKeys:a,openKeys:s,activeKey:{"0-menu-":Object(i.b)(t,t.activeKey)}}),n}var t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(e,o.Component),t=e,(n=[{key:"componentDidMount",value:function(){this.updateMiniStore()}},{key:"componentDidUpdate",value:function(){this.updateMiniStore()}},{key:"updateMiniStore",value:function(){"selectedKeys"in this.props&&this.store.setState({selectedKeys:this.props.selectedKeys||[]}),"openKeys"in this.props&&this.store.setState({openKeys:this.props.openKeys||[]})}},{key:"render",value:function(){var e=u({},this.props);return e.className+=" ".concat(e.prefixCls,"-root"),delete(e=u({},e,{onClick:this.onClick,onOpenChange:this.onOpenChange,onDeselect:this.onDeselect,onSelect:this.onSelect,parentMenu:this,motion:Object(s.a)(this.props)})).openAnimation,delete e.openTransitionName,o.createElement(r.Provider,{store:this.store},o.createElement(i.a,Object.assign({},e,{ref:this.setInnerMenu}),this.props.children))}}])&&p(t.prototype,n),e}();b.defaultProps={selectable:!0,onClick:a.h,onSelect:a.h,onOpenChange:a.h,onDeselect:a.h,defaultSelectedKeys:[],defaultOpenKeys:[],subMenuOpenDelay:.1,subMenuCloseDelay:.1,triggerSubMenuAction:"hover",prefixCls:"rc-menu",className:"",mode:"vertical",style:{},builtinPlacements:{},overflowedIndicator:o.createElement("span",null,"\xb7\xb7\xb7")},t.a=b},462:function(e,t,n){"use strict";var o=n(0),r=n(17),i=n(309),a=n(267),s=n(234);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=!("undefined"==typeof window||!window.document||!window.document.createElement),O="menuitem-overflowed";h&&n(464);var g=function(){function e(){var t,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=y(e).apply(this,arguments),(t=!i||"object"!==c(i)&&"function"!=typeof i?b(n):i).resizeObserver=null,t.mutationObserver=null,t.originalTotalWidth=0,t.overflowedItems=[],t.menuItemSizes=[],t.state={lastVisibleIndex:void 0},t.getMenuItemNodes=function(){var e=t.props.prefixCls,n=r.findDOMNode(b(t));return n?[].slice.call(n.children).filter((function(t){return t.className.split(" ").indexOf("".concat(e,"-overflowed-submenu"))<0})):[]},t.getOverflowedSubMenuItem=function(e,n,r){var i=t.props,c=i.overflowedIndicator,l=i.level,u=i.mode,p=i.prefixCls,v=i.theme;if(1!==l||"horizontal"!==u)return null;var y=t.props.children[0].props,b=(y.children,y.title,y.style),m=d(y,["children","title","style"]),h=f({},b),O="".concat(e,"-overflowed-indicator"),g="".concat(e,"-overflowed-indicator");0===n.length&&!0!==r?h=f({},h,{display:"none"}):r&&(h=f({},h,{visibility:"hidden",position:"absolute"}),O="".concat(O,"-placeholder"),g="".concat(g,"-placeholder"));var w=v?"".concat(p,"-").concat(v):"",S={};return s.g.forEach((function(e){void 0!==m[e]&&(S[e]=m[e])})),o.createElement(a.a,Object.assign({title:c,className:"".concat(p,"-overflowed-submenu"),popupClassName:w},S,{key:O,eventKey:g,disabled:!1,style:h}),n)},t.setChildrenWidthAndResize=function(){if("horizontal"===t.props.mode){var e=r.findDOMNode(b(t));if(e){var n=e.children;if(n&&0!==n.length){var o=e.children[n.length-1];Object(s.i)(o,"display","inline-block");var i=t.getMenuItemNodes(),a=i.filter((function(e){return 0<=e.className.split(" ").indexOf(O)}));a.forEach((function(e){Object(s.i)(e,"display","inline-block")})),t.menuItemSizes=i.map((function(e){return Object(s.c)(e)})),a.forEach((function(e){Object(s.i)(e,"display","none")})),t.overflowedIndicatorWidth=Object(s.c)(e.children[e.children.length-1]),t.originalTotalWidth=t.menuItemSizes.reduce((function(e,t){return e+t}),0),t.handleResize(),Object(s.i)(o,"display","none")}}}},t.handleResize=function(){if("horizontal"===t.props.mode){var e=r.findDOMNode(b(t));if(e){var n=Object(s.c)(e);t.overflowedItems=[];var o,i=0;t.originalTotalWidth>n+.5&&(o=-1,t.menuItemSizes.forEach((function(e){(i+=e)+t.overflowedIndicatorWidth<=n&&(o+=1)}))),t.setState({lastVisibleIndex:o})}}},t}var t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(e,o.Component),t=e,(n=[{key:"componentDidMount",value:function(){var e=this;if(this.setChildrenWidthAndResize(),1===this.props.level&&"horizontal"===this.props.mode){var t=r.findDOMNode(this);if(!t)return;this.resizeObserver=new i.default((function(t){t.forEach(e.setChildrenWidthAndResize)})),[].slice.call(t.children).concat(t).forEach((function(t){e.resizeObserver.observe(t)})),"undefined"!=typeof MutationObserver&&(this.mutationObserver=new MutationObserver((function(){e.resizeObserver.disconnect(),[].slice.call(t.children).concat(t).forEach((function(t){e.resizeObserver.observe(t)})),e.setChildrenWidthAndResize()})),this.mutationObserver.observe(t,{attributes:!1,childList:!0,subTree:!1}))}}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect()}},{key:"renderChildren",value:function(e){var t=this,n=this.state.lastVisibleIndex;return(e||[]).reduce((function(r,i,a){var s=i;if("horizontal"!==t.props.mode)return[].concat(l(r),[s]);var c=t.getOverflowedSubMenuItem(i.props.eventKey,[]);void 0!==n&&-1!==t.props.className.indexOf("".concat(t.props.prefixCls,"-root"))&&(n<a&&(s=o.cloneElement(i,{style:{display:"none"},eventKey:"".concat(i.props.eventKey,"-hidden"),className:"".concat(O)})),a===n+1&&(t.overflowedItems=e.slice(n+1).map((function(e){return o.cloneElement(e,{key:e.props.eventKey,mode:"vertical-left"})})),c=t.getOverflowedSubMenuItem(i.props.eventKey,t.overflowedItems)));var u=[].concat(l(r),[c,s]);return a===e.length-1&&u.push(t.getOverflowedSubMenuItem(i.props.eventKey,[],!0)),u}),[])}},{key:"render",value:function(){var e=this.props,t=(e.visible,e.prefixCls,e.overflowedIndicator,e.mode,e.level,e.tag),n=e.children,r=(e.theme,d(e,["visible","prefixCls","overflowedIndicator","mode","level","tag","children","theme"])),i=t;return o.createElement(i,Object.assign({},r),this.renderChildren(n))}}])&&v(t.prototype,n),e}();g.defaultProps={tag:"div",className:""},t.a=g}}]);