(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[31],{1225:function(t,e,i){var n=i(222),a=i(327).createSymbol,o=i(708),r=n.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(t,e){var i=e.points,n=e.size,a=this.symbolProxy,o=a.shape;if(!((t.getContext?t.getContext():t)&&n[0]<4))for(var r=0;r<i.length;){var s=i[r++],l=i[r++];isNaN(s)||isNaN(l)||this.softClipShape&&!this.softClipShape.contain(s,l)||(o.x=s-n[0]/2,o.y=l-n[1]/2,o.width=n[0],o.height=n[1],a.buildPath(t,o,!0))}},afterBrush:function(t){var e=this.shape,i=e.points,n=e.size;if(n[0]<4){this.setTransform(t);for(var a=0;a<i.length;){var o=i[a++],r=i[a++];isNaN(o)||isNaN(r)||this.softClipShape&&!this.softClipShape.contain(o,r)||t.fillRect(o-n[0]/2,r-n[1]/2,n[0],n[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var i=this.shape,n=i.points,a=i.size,o=Math.max(a[0],4),r=Math.max(a[1],4),s=n.length/2-1;0<=s;s--){var l=2*s,h=n[l]-o/2,c=n[1+l]-r/2;if(h<=t&&c<=e&&t<=h+o&&e<=c+r)return s}return-1}});function s(){this.group=new n.Group}var l=s.prototype;l.isPersistent=function(){return!this._incremental},l.updateData=function(t,e){this.group.removeAll();var i=new r({rectHover:!0,cursor:"default"});i.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(i,t,!1,e),this.group.add(i),this._incremental=null},l.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild((function(t){if(null!=t.startIndex){var i=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2;e=new Float32Array(e.buffer,n,i)}t.setShape("points",e)}))}},l.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),2e6<t.count()?(this._incremental||(this._incremental=new o({silent:!0})),this.group.add(this._incremental)):this._incremental=null},l.incrementalUpdate=function(t,e,i){var n;this._incremental?(n=new r,this._incremental.addDisplayable(n,!0)):((n=new r({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(n)),n.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(n,e,!!this._incremental,i)},l._setCommon=function(t,e,i,n){var o=e.hostModel;n=n||{};var r=e.getVisual("symbolSize");t.setShape("size",r instanceof Array?r:[r,r]),t.softClipShape=n.clipShape||null,t.symbolProxy=a(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<4;t.useStyle(o.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("color");l&&t.setColor(l),i||(t.seriesIndex=o.seriesIndex,t.on("mousemove",(function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);0<=i&&(t.dataIndex=i+(t.startIndex||0))})))},l.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},l._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var h=s;t.exports=h},1319:function(t,e,i){var n=i(216),a=i(327).createSymbol,o=i(222).Group,r=i(224).parsePercent,s=i(659);function l(t,e){var i=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?i:null,fill:"fill"===e.brushType?i:null}})}))}function h(t,e){o.call(this);var i=new s(t,e),n=new o;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}var c=h.prototype;c.stopEffectAnimation=function(){this.childAt(1).removeAll()},c.startEffectAnimation=function(t){for(var e=t.symbolType,i=t.color,n=this.childAt(1),o=0;o<3;o++){var r=a(e,-1,-1,2,2,i);r.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-o/3*t.period+t.effectOffset;r.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(s).start(),r.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),n.add(r)}l(n,t)},c.updateEffectAnimation=function(t){for(var e=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale"],a=0;a<n.length;a++){var o=n[a];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}l(i,t)},c.highlight=function(){this.trigger("emphasis")},c.downplay=function(){this.trigger("normal")},c.updateData=function(t,e){var i=t.hostModel;this.childAt(0).updateData(t,e);var a,o=this.childAt(1),s=t.getItemModel(e),l=t.getItemVisual(e,"symbol"),h=(a=t.getItemVisual(e,"symbolSize"),n.isArray(a)||(a=[+a,+a]),a),c=t.getItemVisual(e,"color");o.attr("scale",h),o.traverse((function(t){t.attr({fill:c})}));var f=s.getShallow("symbolOffset");if(f){var u=o.position;u[0]=r(f[0],h[0]),u[1]=r(f[1],h[1])}o.rotation=(s.getShallow("symbolRotate")||0)*Math.PI/180||0;var p={};if(p.showEffectOn=i.get("showEffectOn"),p.rippleScale=s.get("rippleEffect.scale"),p.brushType=s.get("rippleEffect.brushType"),p.period=1e3*s.get("rippleEffect.period"),p.effectOffset=e/t.count(),p.z=s.getShallow("z")||0,p.zlevel=s.getShallow("zlevel")||0,p.symbolType=l,p.color=c,p.rippleEffectColor=s.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===p.showEffectOn)this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p;else{function d(){g.highlight(),"render"!==p.showEffectOn&&this.startEffectAnimation(p)}function m(){g.downplay(),"render"!==p.showEffectOn&&this.stopEffectAnimation()}this._effectCfg=null,this.stopEffectAnimation();var g=this.childAt(0);this.on("mouseover",d,this).on("mouseout",m,this).on("emphasis",d,this).on("normal",m,this)}this._effectCfg=p},c.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},n.inherits(h,o);var f=h;t.exports=f},1323:function(t,e,i){var n=i(861),a=i(216),o=i(860),r=i(245);function s(t,e,i){o.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0}var l=s.prototype;l.createLine=function(t,e,i){return new n(t,e,i)},l.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,a=1;a<e.length;a++){var o=e[a-1],s=e[a];n+=r.dist(o,s),i.push(n)}if(0!==n){for(a=0;a<i.length;a++)i[a]/=n;this._offsets=i,this._length=n}},l.getLineLength=function(t){return this._length},l.updateSymbolPosition=function(t){var e=t.__t,i=this._points,n=this._offsets,a=i.length;if(n){var o=this._lastFrame;if(e<this._lastFramePercent){for(s=Math.min(o+1,a-1);0<=s&&!(n[s]<=e);s--);s=Math.min(s,a-2)}else{for(var s=o;s<a&&!(n[s]>e);s++);s=Math.min(s-1,a-2)}r.lerp(t.position,i[s],i[s+1],(e-n[s])/(n[s+1]-n[s]));var l=i[s+1][0]-i[s][0],h=i[s+1][1]-i[s][1];t.rotation=-Math.atan2(h,l)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=e,t.ignore=!1}},a.inherits(s,o);var h=s;t.exports=h},1324:function(t,e,i){var n=i(222),a=i(708),o=i(816),r=i(817),s=n.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var i=e.segs,n=e.curveness;if(e.polyline)for(var a=0;a<i.length;){var o=i[a++];if(0<o){t.moveTo(i[a++],i[a++]);for(var r=1;r<o;r++)t.lineTo(i[a++],i[a++])}}else for(a=0;a<i.length;){var s=i[a++],l=i[a++],h=i[a++],c=i[a++];if(t.moveTo(s,l),0<n){var f=(s+h)/2-(l-c)*n,u=(l+c)/2-(h-s)*n;t.quadraticCurveTo(f,u,h,c)}else t.lineTo(h,c)}},findDataIndex:function(){var t=this.shape,e=t.segs,i=t.curveness;if(t.polyline)for(var n=0,a=0;a<e.length;){var s=e[a++];if(0<s)for(var l=e[a++],h=e[a++],c=1;c<s;c++){var f=e[a++],u=e[a++];if(o.containStroke(l,h,f,u))return n}n++}else for(n=0,a=0;a<e.length;){if(l=e[a++],h=e[a++],f=e[a++],u=e[a++],0<i){var p=(l+f)/2-(h-u)*i,d=(h+u)/2-(f-l)*i;if(r.containStroke(l,h,p,d,f,u))return n}else if(o.containStroke(l,h,f,u))return n;n++}return-1}});function l(){this.group=new n.Group}var h=l.prototype;h.isPersistent=function(){return!this._incremental},h.updateData=function(t){this.group.removeAll();var e=new s({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},h.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),5e5<t.count()?(this._incremental||(this._incremental=new a({silent:!0})),this.group.add(this._incremental)):this._incremental=null},h.incrementalUpdate=function(t,e){var i=new s;i.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(i,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=t.start,this.group.add(i))},h.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},h._setCommon=function(t,e,i){var n=e.hostModel;t.setShape({polyline:n.get("polyline"),curveness:n.get("lineStyle.curveness")}),t.useStyle(n.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("color");a&&t.setStyle("stroke",a),t.setStyle("fill"),i||(t.seriesIndex=n.seriesIndex,t.on("mousemove",(function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);0<i&&(t.dataIndex=i+t.__startIndex)})))},h._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var c=l;t.exports=c},1326:function(t,e,i){i(1327),i(1328)},1327:function(t,e,i){var n=i(272),a=i(479),o=i(351),r=n.extend({type:"series.heatmap",getInitialData:function(){return a(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var t=o.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});t.exports=r},1328:function(t,e,i){i(232).__DEV__;var n=i(220),a=i(222),o=i(1329),r=i(216),s=n.extendChartView({type:"heatmap",render:function(t,e,i){var n;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(i){i===t&&(n=e)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var a,o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):"lng"===(a=o.dimensions)[0]&&"lat"===a[1]&&this._renderOnGeo(o,t,n,i)},incrementalPrepareRender:function(){this.group.removeAll()},incrementalRender:function(t,e,i,n){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,n,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,i,n,o){var s,l,h=t.coordinateSystem;if("cartesian2d"===h.type){var c=h.getAxis("x"),f=h.getAxis("y");s=c.getBandWidth(),l=f.getBandWidth()}for(var u=this.group,p=t.getData(),d="itemStyle",m="emphasis.itemStyle",g="emphasis.label",v=t.getModel(d).getItemStyle(["color"]),y=t.getModel(m).getItemStyle(),_=t.getModel("label"),S=t.getModel(g),x=h.type,b="cartesian2d"===x?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],I=i;I<n;I++){var w;if("cartesian2d"===x){if(isNaN(p.get(b[2],I)))continue;var A=h.dataToPoint([p.get(b[0],I),p.get(b[1],I)]);w=new a.Rect({shape:{x:Math.floor(A[0]-s/2),y:Math.floor(A[1]-l/2),width:Math.ceil(s),height:Math.ceil(l)},style:{fill:p.getItemVisual(I,"color"),opacity:p.getItemVisual(I,"opacity")}})}else{if(isNaN(p.get(b[1],I)))continue;w=new a.Rect({z2:1,shape:h.dataToRect([p.get(b[0],I)]).contentShape,style:{fill:p.getItemVisual(I,"color"),opacity:p.getItemVisual(I,"opacity")}})}var C=p.getItemModel(I);p.hasItemOption&&(v=C.getModel(d).getItemStyle(["color"]),y=C.getModel(m).getItemStyle(),_=C.getModel("label"),S=C.getModel(g));var M=t.getRawValue(I),P="-";M&&null!=M[2]&&(P=M[2]),a.setLabelStyle(v,y,_,S,{labelFetcher:t,labelDataIndex:I,defaultText:P,isRectText:!0}),w.setStyle(v),a.setHoverStyle(w,p.hasItemOption?y:r.extend({},y)),(w.incremental=o)&&(w.useHoverLayer=!0),u.add(w),p.setItemGraphicEl(I,w)}},_renderOnGeo:function(t,e,i,n){var s=i.targetVisuals.inRange,l=i.targetVisuals.outOfRange,h=e.getData(),c=this._hmLayer||this._hmLayer||new o;c.blurSize=e.get("blurSize"),c.pointSize=e.get("pointSize"),c.minOpacity=e.get("minOpacity"),c.maxOpacity=e.get("maxOpacity");var f=t.getViewRect().clone(),u=t.getRoamTransform();f.applyTransform(u);var p,d,m,g,v,y,_,S,x,b=Math.max(f.x,0),I=Math.max(f.y,0),w=Math.min(f.width+f.x,n.getWidth()),A=Math.min(f.height+f.y,n.getHeight()),C=w-b,M=A-I,P=[h.mapDimension("lng"),h.mapDimension("lat"),h.mapDimension("value")],z=h.mapArray(P,(function(e,i,n){var a=t.dataToPoint([e,i]);return a[0]-=b,a[1]-=I,a.push(n),a})),D=i.getExtent(),O="visualMap.continuous"===i.type?(_=D,S=i.option.range,x=_[1]-_[0],S=[(S[0]-_[0])/x,(S[1]-_[0])/x],function(t){return t>=S[0]&&t<=S[1]}):(p=D,d=i.getPieceList(),m=i.option.selected,g=p[1]-p[0],v=(d=r.map(d,(function(t){return{interval:[(t.interval[0]-p[0])/g,(t.interval[1]-p[0])/g]}}))).length,y=0,function(t){for(var e=y;e<v;e++)if((i=d[e].interval)[0]<=t&&t<=i[1]){y=e;break}if(e===v)for(e=y-1;0<=e;e--){var i;if((i=d[e].interval)[0]<=t&&t<=i[1]){y=e;break}}return 0<=e&&e<v&&m[e]});c.update(z,C,M,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:l.color.getColorMapper()},O);var E=new a.Image({style:{width:C,height:M,x:b,y:I,image:c.canvas},silent:!0});this.group.add(E)},dispose:function(){}});t.exports=s},1329:function(t,e,i){var n=i(216);function a(){var t=n.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}a.prototype={update:function(t,e,i,n,a,o){var r=this._getBrush(),s=this._getGradient(t,a,"inRange"),l=this._getGradient(t,a,"outOfRange"),h=this.pointSize+this.blurSize,c=this.canvas,f=c.getContext("2d"),u=t.length;c.width=e,c.height=i;for(var p=0;p<u;++p){var d=t[p],m=d[0],g=d[1],v=n(d[2]);f.globalAlpha=v,f.drawImage(r,m-h,g-h)}if(!c.width||!c.height)return c;for(var y=f.getImageData(0,0,c.width,c.height),_=y.data,S=0,x=_.length,b=this.minOpacity,I=this.maxOpacity-b;S<x;){v=_[S+3]/256;var w=4*Math.floor(255*v);if(0<v){var A=o(v)?s:l;0<v&&(v=v*I+b),_[S++]=A[w],_[S++]=A[1+w],_[S++]=A[2+w],_[S++]=A[3+w]*v*256}else S+=4}return f.putImageData(y,0,0),c},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=n.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var a=t.getContext("2d");return a.clearRect(0,0,i,i),a.shadowOffsetX=i,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-e,e,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,a=n[i]||(n[i]=new Uint8ClampedArray(1024)),o=[0,0,0,0],r=0,s=0;s<256;s++)e[i](s/255,!0,o),a[r++]=o[0],a[r++]=o[1],a[r++]=o[2],a[r++]=o[3];return a}};var o=a;t.exports=o},860:function(t,e,i){var n=i(222),a=i(721),o=i(216),r=i(327).createSymbol,s=i(245),l=i(493);function h(t,e,i){n.Group.call(this),this.add(this.createLine(t,e,i)),this._updateEffectSymbol(t,e)}var c=h.prototype;c.createLine=function(t,e,i){return new a(t,e,i)},c._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel("effect"),n=i.get("symbolSize"),a=i.get("symbol");o.isArray(n)||(n=[n,n]);var s=i.get("color")||t.getItemVisual(e,"color"),l=this.childAt(1);this._symbolType!==a&&(this.remove(l),(l=r(a,-.5,-.5,1,1,s)).z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(i.getItemStyle(["color"])),l.attr("scale",n),l.setColor(s),l.attr("scale",n),this._symbolType=a,this._updateEffectAnimation(t,i,e))},c._updateEffectAnimation=function(t,e,i){var n=this.childAt(1);if(n){var a=this,r=t.getItemLayout(i),s=1e3*e.get("period"),l=e.get("loop"),h=e.get("constantSpeed"),c=o.retrieve(e.get("delay"),(function(e){return e/t.count()*s/3})),f="function"==typeof c;if(n.ignore=!0,this.updateAnimationPoints(n,r),0<h&&(s=this.getLineLength(n)/h*1e3),s!==this._period||l!==this._loop){n.stopAnimation();var u=c;f&&(u=c(i)),0<n.__t&&(u=-s*n.__t),n.__t=0;var p=n.animate("",l).when(s,{__t:1}).delay(u).during((function(){a.updateSymbolPosition(n)}));l||p.done((function(){a.remove(n)})),p.start()}this._period=s,this._loop=l}},c.getLineLength=function(t){return s.dist(t.__p1,t.__cp1)+s.dist(t.__cp1,t.__p2)},c.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},c.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},c.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,a=t.__t,o=t.position,r=l.quadraticAt,s=l.quadraticDerivativeAt;o[0]=r(e[0],n[0],i[0],a),o[1]=r(e[1],n[1],i[1],a);var h=s(e[0],n[0],i[0],a),c=s(e[1],n[1],i[1],a);t.rotation=-Math.atan2(c,h)-Math.PI/2,t.ignore=!1},c.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,i,e)},o.inherits(h,n.Group);var f=h;t.exports=f}}]);