(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[146],{475:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a);function c(e){return r.a.createElement("button",Object.assign({},e,{className:"link-button"}))}n(589)},589:function(e,t,n){},619:function(e,t,n){"use strict";function a(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}n.d(t,"a",(function(){return a}))},993:function(e,t,n){"use strict";n.r(t);var a=n(43),r=(n(453),n(472)),c=n.n(r),u=n(14),i=n.n(u),o=n(24),s=n(273),l=n(0),f=n.n(l),m=n(475),d=n(40),b=n(619),h=(n(994),n(82)),v=n(77).connect,p=n(126).withRouter;t.default=v((function(e){return Object(a.a)({},e)}),{logout:h.logout,reqMenuList:h.reqMenuList,setHeadTitle:h.setHeadTitle})(p((function(e){var t=Object(l.useState)(Object(b.a)(Date.now())),n=Object(s.a)(t,2),a=n[0],r=n[1],u=Object(l.useState)({wendu:"",quality:""}),h=Object(s.a)(u,2),v=h[0],p=h[1],O=Object(l.useState)(),j=Object(s.a)(O,2),E=j[0],g=j[1],w=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.reqWeather)("101210101");case 2:t=e.sent,p(t||{wendu:"",quality:""});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){v.quality&&v.wendu||w()}),[e.location.pathname]),Object(l.useEffect)((function(){y()}),[e.location.pathname,e.menuList]);var y=function(){0===e.menuList.length&&e.reqMenuList();var t=e.location.pathname,n=e.menuList;n instanceof Array&&n.every((function(n){return n.key===t||n.children&&n.children.find((function(e){return 0===t.indexOf(e.key)}))?(e.setHeadTitle(n.title),!1):void 0}))};Object(l.useEffect)((function(){var e;return e=setInterval((function(){var e=Object(b.a)(Date.now());r(e)}),1e3),g(e),clearInterval(E)}),[a]);var k=e.user.username,q=e.headTitle;return f.a.createElement("div",{className:"header"},f.a.createElement("div",{className:"header-top"},f.a.createElement("span",null,"\u6b22\u8fce, ",k),f.a.createElement(m.a,{onClick:function(){c.a.confirm({content:"\u786e\u5b9a\u9000\u51fa\u5417?",onOk:function(){e.logout()}})}},"\u9000\u51fa")),f.a.createElement("div",{className:"header-bottom"},f.a.createElement("div",{className:"header-bottom-left"},q),f.a.createElement("div",{className:"header-bottom-right"},f.a.createElement("span",null,a),f.a.createElement("span",null,"\u7a7a\u6c14\u8d28\u91cf\uff1a",v.quality),f.a.createElement("span",null,"\u6e29\u5ea6\uff1a",v.wendu," \u2103"))))})))},994:function(e,t,n){}}]);