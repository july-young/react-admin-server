(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[47],{1359:function(e,t,n){n(633),n(867),n(637)},1372:function(e,t,n){var r=n(220),i=n(216);function o(e,t){t.update="updateView",r.registerAction(t,(function(t,n){var r={};return n.eachComponent({mainType:"geo",query:t},(function(n){n[e](t.name);var o=n.coordinateSystem;i.each(o.regions,(function(e){r[e.name]=n.isSelected(e.name)||!1}))})),{selected:r,name:t.name}}))}n(1373),n(717),n(1374),n(849),o("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),o("select",{type:"geoSelect",event:"geoselected"}),o("unSelect",{type:"geoUnSelect",event:"geounselected"})},1374:function(e,t,n){var r=n(847),i=n(220).extendComponentView({type:"geo",init:function(e,t){var n=new r(t,!0);this._mapDraw=n,this.group.add(n.group)},render:function(e,t,n,r){if(!r||"geoToggleSelect"!==r.type||r.from!==this.uid){var i=this._mapDraw;e.get("show")?i.draw(e,t,n,this,r):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});e.exports=i},1379:function(e,t,n){n(232).__DEV__;var r=n(220),i=n(216),o=n(228),a=n(222),s=n(240),u=n(224).parsePercent,c={path:null,compoundPath:null,group:a.Group,image:a.Image,text:a.Text};r.registerPreprocessor((function(e){var t=e.graphic;i.isArray(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])}));var l=r.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,l.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var n=this.option,r=(t?n:e).elements,a=n.elements=t?[]:n.elements,u=[];this._flatten(r,u);var c=o.mappingToExists(a,u);o.makeIdAndName(c);var l=this._elOptionsToUpdate=[];i.each(c,(function(e,t){var n,r,o,u,c,h,p=e.option;p&&(l.push(p),function(e,t){var n=e.exist;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var r=t.parentOption;r?t.parentId=r.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(e,p),n=a,r=t,o=p,u=i.extend({},o),c=n[r],"merge"===(h=o.$action||"merge")?c?(i.merge(c,u,!0),s.mergeLayoutParam(c,u,{ignoreSize:!0}),s.copyLayoutParams(o,c)):n[r]=u:"replace"===h?n[r]=u:"remove"===h&&c&&(n[r]=null),function(e,t){e&&(e.hv=t.hv=[g(t,["left","right"]),g(t,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0)))}(a[t],p))}),this);for(var h=a.length-1;0<=h;h--)null==a[h]?a.splice(h,1):delete a[h].$action},_flatten:function(e,t,n){i.each(e,(function(e){if(e){n&&(e.parentOption=n),t.push(e);var r=e.children;"group"===e.type&&r&&this._flatten(r,t,e),delete e.children}}),this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});function h(e,t,n,r){var i=n.type,o=new(c.hasOwnProperty(i)?c[i]:a.getShapeClass(i))(n);t.add(o),r.set(e,o),o.__ecGraphicId=e}function p(e,t){var n=e&&e.parent;n&&("group"===e.type&&e.traverse((function(e){p(e,t)})),t.removeKey(e.__ecGraphicId),n.remove(e))}function g(e,t){var n;return i.each(t,(function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)})),n}r.extendComponentView({type:"graphic",init:function(){this._elMap=i.createHashMap(),this._lastGraphicModel},render:function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},_updateElements:function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,r=this.group;i.each(t,(function(t){var o=t.$action,a=t.id,u=n.get(a),c=t.parentId,l=null!=c?n.get(c):r,g=t.style;"text"===t.type&&g&&(t.hv&&t.hv[1]&&(g.textVerticalAlign=g.textBaseline=null),!g.hasOwnProperty("textFill")&&g.fill&&(g.textFill=g.fill),!g.hasOwnProperty("textStroke")&&g.stroke&&(g.textStroke=g.stroke));var f,d=(f=t,f=i.extend({},f),i.each(["id","parentId","$action","hv","bounding"].concat(s.LOCATION_PARAMS),(function(e){delete f[e]})),f);o&&"merge"!==o?"replace"===o?(p(u,n),h(a,l,d,n)):"remove"===o&&p(u,n):u?u.attr(d):h(a,l,d,n);var v=n.get(a);v&&(v.__ecGraphicWidthOption=t.width,v.__ecGraphicHeightOption=t.height,function(e,t){var n=e.eventData;e.silent||e.ignore||n||(n=e.eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),n&&(n.info=e.info)}(v,e))}))}},_relocate:function(e,t){for(var n=e.option.elements,r=this.group,i=this._elMap,o=t.getWidth(),a=t.getHeight(),c=0;c<n.length;c++){var l=n[c];if((p=i.get(l.id))&&p.isGroup){var h=(g=p.parent)===r;p.__ecGraphicWidth=u(p.__ecGraphicWidthOption,h?o:g.__ecGraphicWidth)||0,p.__ecGraphicHeight=u(p.__ecGraphicHeightOption,h?a:g.__ecGraphicHeight)||0}}for(c=n.length-1;0<=c;c--){var p;if(l=n[c],p=i.get(l.id)){var g,f=(g=p.parent)===r?{width:o,height:a}:{width:g.__ecGraphicWidth,height:g.__ecGraphicHeight};s.positionElement(p,l,f,null,{hv:l.hv,boundingMode:l.bounding})}}},_clear:function(){var e=this._elMap;e.each((function(t){p(t,e)})),this._elMap=i.createHashMap()},dispose:function(){this._clear()}})},633:function(e,t,n){var r=n(220),i=n(216),o=n(222);n(713),n(1210),r.extendComponentView({type:"grid",render:function(e){this.group.removeAll(),e.get("show")&&this.group.add(new o.Rect({shape:e.coordinateSystem.getRect(),style:i.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),r.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))},723:function(e,t,n){n(232).__DEV__;var r=n(216),i=n(594),o=n(222),a=n(848),s=n(597),u=r.curry,c=r.each,l=r.map,h=Math.min,p=Math.max,g=Math.pow,f="globalPan",d={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},v={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},_={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},m=0;function b(e){i.call(this),this._zr=e,this.group=new o.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+m++,this._handlers={},c(Y,(function(e,t){this._handlers[t]=r.bind(e,this)}),this)}function y(e,t){var n=F[t.brushType].createCover(e,t);return n.__brushOption=t,O(n,t),e.group.add(n),n}function w(e,t){var n=x(t);return n.endCreating&&(n.endCreating(e,t),O(t,t.__brushOption)),t}function C(e,t){var n=t.__brushOption;x(t).updateCoverShape(e,t,n.range,n)}function O(e,t){var n=t.z;null==n&&(n=1e4),e.traverse((function(e){e.z=n,e.z2=n}))}function T(e,t){x(t).updateCommon(e,t),C(e,t)}function x(e){return F[e.__brushOption.brushType]}function S(e,t,n){var r,i=e._panels;if(!i)return!0;var o=e._transform;return c(i,(function(e){e.isTargetByCursor(t,n,o)&&(r=e)})),r}function G(e,t){var n=e._panels;if(!n)return!0;var r=t.__brushOption.panelId;return null==r||n[r]}function I(e){var t=e._covers,n=t.length;return c(t,(function(t){e.group.remove(t)}),e),t.length=0,n}function k(e,t){var n=l(e._covers,(function(e){var t=e.__brushOption,n=r.clone(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}}));e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function P(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function E(e,t,n,r){var i=new o.Group;return i.add(new o.Rect({name:"main",style:D(n),silent:!0,draggable:!0,cursor:"move",drift:u(e,t,i,"nswe"),ondragend:u(k,t,{isEnd:!0})})),c(r,(function(n){i.add(new o.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:u(e,t,i,n),ondragend:u(k,t,{isEnd:!0})}))})),i}function M(e,t,n,r){var i=r.brushStyle.lineWidth||0,o=p(i,6),a=n[0][0],s=n[1][0],u=a-i/2,c=s-i/2,l=n[0][1],h=n[1][1],g=l-o+i/2,f=h-o+i/2,d=l-a,v=h-s,_=d+i,m=v+i;z(e,t,"main",a,s,d,v),r.transformable&&(z(e,t,"w",u,c,o,m),z(e,t,"e",g,c,o,m),z(e,t,"n",u,c,_,o),z(e,t,"s",u,f,_,o),z(e,t,"nw",u,c,o,o),z(e,t,"ne",g,c,o,o),z(e,t,"sw",u,f,o,o),z(e,t,"se",g,f,o,o))}function A(e,t){var n=t.__brushOption,r=n.transformable,i=t.childAt(0);i.useStyle(D(n)),i.attr({silent:!r,cursor:r?"move":"default"}),c(["w","e","n","s","se","sw","ne","nw"],(function(n){var i=t.childOfName(n),a=function e(t,n){if(1<n.length)return"e"!==(r=[e(t,(n=n.split(""))[0]),e(t,n[1])])[0]&&"w"!==r[0]||r.reverse(),r.join("");var r,i;return{left:"w",right:"e",top:"n",bottom:"s"}[r=o.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[n],(i=t,o.getTransform(i.group)))]}(e,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?v[a]+"-resize":null})}))}function z(e,t,n,r,i,o,a){var s,u,c,l=t.childOfName(n);l&&l.setShape((s=U(e,t,[[r,i],[r+o,i+a]]),{x:u=h(s[0][0],s[1][0]),y:c=h(s[0][1],s[1][1]),width:p(s[0][0],s[1][0])-u,height:p(s[0][1],s[1][1])-c}))}function D(e){return r.defaults({strokeNoScale:!0},e.brushStyle)}function L(e,t,n,r){var i=[h(e,n),h(t,r)],o=[p(e,n),p(t,r)];return[[i[0],o[0]],[i[1],o[1]]]}function H(e,t,n,r,i,o,a,s){var u=r.__brushOption,l=e(u.range),h=R(n,o,a);c(i.split(""),(function(e){var t=d[e];l[t[0]][t[1]]+=h[t[0]]})),u.range=t(L(l[0][0],l[1][0],l[0][1],l[1][1])),T(n,r),k(n,{isEnd:!1})}function W(e,t,n,r,i){var o=t.__brushOption.range,a=R(e,n,r);c(o,(function(e){e[0]+=a[0],e[1]+=a[1]})),T(e,t),k(e,{isEnd:!1})}function R(e,t,n){var r=e.group,i=r.transformCoordToLocal(t,n),o=r.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function U(e,t,n){var i=G(e,t);return i&&!0!==i?i.clipPath(n,e._transform):r.clone(n)}function B(e){var t=e.event;t.preventDefault&&t.preventDefault()}function V(e,t,n){return e.childOfName("main").contain(t,n)}function N(e,t,n,i){var o,a=e._creatingCover,s=e._creatingPanel,u=e._brushOption;if(e._track.push(n.slice()),function(e){var t=e._track;if(t.length){var n=t[t.length-1],r=t[0],i=n[0]-r[0],o=n[1]-r[1];return 6<g(i*i+o*o,.5)}}(e)||a){if(s&&!a){"single"===u.brushMode&&I(e);var c=r.clone(u);c.brushType=X(c.brushType,s),c.panelId=!0===s?null:s.panelId,a=e._creatingCover=y(e,c),e._covers.push(a)}if(a){var l=F[X(e._brushType,s)];a.__brushOption.range=l.getCreatingRange(U(e,a,e._track)),i&&(w(e,a),l.updateCommon(e,a)),C(e,a),o={isEnd:i}}}else i&&"single"===u.brushMode&&u.removeOnClick&&S(e,t,n)&&I(e)&&(o={isEnd:i,removeOnClick:!0});return o}function X(e,t){return"auto"===e?t.defaultBrushType:e}b.prototype={constructor:b,enableBrush:function(e){var t,n;return this._brushType&&(n=(t=this)._zr,a.release(n,f,t._uid),function(e,t){c(t,(function(t,n){e.off(n,t)}))}(n,t._handlers),t._brushType=t._brushOption=null),e.brushType&&function(e,t){var n=e._zr;e._enableGlobalPan||a.take(n,f,e._uid),function(e,t){c(t,(function(t,n){e.on(n,t)}))}(n,e._handlers),e._brushType=t.brushType,e._brushOption=r.merge(r.clone(_),t,!0)}(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};r.each(e,(function(e){t[e.panelId]=r.clone(e)}))}else this._panels=null;return this},mount:function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){c(this._covers,e,t)},updateCovers:function(e){e=r.map(e,(function(e){return r.merge(r.clone(_),e,!0)}));var t=this._covers,n=this._covers=[],i=this,o=this._creatingCover;return new s(t,e,(function(e,t){return a(e.__brushOption,t)}),a).add(u).update(u).remove((function(e){t[e]!==o&&i.group.remove(t[e])})).execute(),this;function a(e,t){return(null!=e.id?e.id:"\0-brush-index-"+t)+"-"+e.brushType}function u(r,a){var s=e[r];if(null!=a&&t[a]===o)n[r]=t[a];else{var u=n[r]=null!=a?(t[a].__brushOption=s,t[a]):w(i,y(i,s));T(i,u)}}},unmount:function(){return this.enableBrush(!1),I(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},r.mixin(b,i);var Y={mousedown:function(e){if(this._dragging)$(this,e);else if(!e.target||!e.target.draggable){B(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=S(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,r=this.group.transformCoordToLocal(t,n);if(function(e,t,n){if(e._brushType&&(r=t,o=e._zr,!(r<0||r>o.getWidth()||i>o.getHeight()))){var r,i,o,a=e._zr,s=e._covers,u=S(e,t,n);if(!e._dragging)for(var c=0;c<s.length;c++){var l=s[c].__brushOption;if(u&&(!0===u||l.panelId===u.panelId)&&F[l.brushType].contain(s[c],n[0],n[1]))return}u&&a.setCursorStyle("crosshair")}}(this,e,r),this._dragging){B(e);var i=N(this,e,r,!1);i&&k(this,i)}},mouseup:function(e){$(this,e)}};function $(e,t){if(e._dragging){B(t);var n=t.offsetX,r=t.offsetY,i=e.group.transformCoordToLocal(n,r),o=N(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,o&&k(e,o)}}var F={lineX:J(0),lineY:J(1),rect:{createCover:function(e,t){return E(u(H,(function(e){return e}),(function(e){return e})),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=P(e);return L(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){M(e,t,n,r)},updateCommon:A,contain:V},polygon:{createCover:function(e,t){var n=new o.Group;return n.add(new o.Polyline({name:"main",style:D(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new o.Polygon({name:"main",draggable:!0,drift:u(W,e,t),ondragend:u(k,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n){t.childAt(0).setShape({points:U(e,t,n)})},updateCommon:A,contain:V}};function J(e){return{createCover:function(t,n){return E(u(H,(function(t){var n=[t,[0,100]];return e&&n.reverse(),n}),(function(t){return t[e]})),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=P(t);return[h(n[0][e],n[1][e]),p(n[0][e],n[1][e])]},updateCoverShape:function(t,n,r,i){var o,a=G(t,n);if(!0!==a&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(e,t._transform);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-e]]}var u=[r,o];e&&u.reverse(),M(t,n,u,i)},updateCommon:A,contain:V}}var j=b;e.exports=j}}]);