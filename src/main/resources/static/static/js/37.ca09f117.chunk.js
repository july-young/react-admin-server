(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[37],{1185:function(t,e,n){var i=n(216),a=n(228),o=n(271),r=i.each,s=i.clone,u=i.map,l=i.merge,c=/^(min|max)?(.+)$/;function h(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function d(t,e,n){var a={width:e,height:n,aspectratio:e/n},o=!0;return i.each(t,(function(t,e){var n=e.match(c);if(n&&n[1]&&n[2]){var i,r,s,u=n[1],l=n[2].toLowerCase();i=a[l],r=t,("min"===(s=u)?r<=i:"max"===s?i<=r:i===r)||(o=!1)}})),o}h.prototype={constructor:h,setOption:function(t,e){t&&i.each(a.normalizeToArray(t.series),(function(t){t&&t.data&&i.isTypedArray(t.data)&&i.setAsPrimitive(t.data)})),t=s(t);var n,c,h=this._optionBackup,d=function(t,e,n){var a,o,s=[],u=[],l=t.timeline;if(t.baseOption&&(o=t.baseOption),(l||t.options)&&(o=o||{},s=(t.options||[]).slice()),t.media){o=o||{};var c=t.media;r(c,(function(t){t&&t.option&&(t.query?u.push(t):a=a||t)}))}return(o=o||t).timeline||(o.timeline=l),r([o].concat(s).concat(i.map(u,(function(t){return t.option}))),(function(t){r(e,(function(e){e(t,n)}))})),{baseOption:o,timelineOptions:s,mediaDefault:a,mediaList:u}}.call(this,t,e,!h);this._newBaseOption=d.baseOption,h?(n=h.baseOption,c=d.baseOption,r(c=c||{},(function(t,e){if(null!=t){var i=n[e];if(o.hasClass(e)){t=a.normalizeToArray(t),i=a.normalizeToArray(i);var r=a.mappingToExists(i,t);n[e]=u(r,(function(t){return t.option&&t.exist?l(t.exist,t.option,!0):t.exist||t.option}))}else n[e]=l(i,t,!0)}})),d.timelineOptions.length&&(h.timelineOptions=d.timelineOptions),d.mediaList.length&&(h.mediaList=d.mediaList),d.mediaDefault&&(h.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=u(e.timelineOptions,s),this._mediaList=u(e.mediaList,s),this._mediaDefault=s(e.mediaDefault),this._currentMediaIndices=[],s(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=s(n[i.getCurrentIndex()],!0))}return e},getMediaOption:function(){var t,e,n=this._api.getWidth(),i=this._api.getHeight(),a=this._mediaList,o=this._mediaDefault,r=[],l=[];if(!a.length&&!o)return l;for(var c=0,h=a.length;c<h;c++)d(a[c].query,n,i)&&r.push(c);return!r.length&&o&&(r=[-1]),r.length&&(t=r,e=this._currentMediaIndices,t.join(",")!==e.join(","))&&(l=u(r,(function(t){return s(-1===t?o.option:a[t].option)}))),this._currentMediaIndices=r,l}};var p=h;t.exports=p},1191:function(t,e,n){var i=n(216),a=n(222),o=Math.PI;t.exports=function(t,e){e=e||{},i.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new a.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),r=new a.Arc({shape:{startAngle:-o/2,endAngle:-o/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new a.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});r.animateShape(!0).when(1e3,{endAngle:3*o/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*o/2}).delay(300).start("circularInOut");var u=new a.Group;return u.add(r),u.add(s),u.add(n),u.resize=function(){var e=t.getWidth()/2,i=t.getHeight()/2;r.setShape({cx:e,cy:i});var a=r.shape.r;s.setShape({x:e-a,y:i-a,width:2*a,height:2*a}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},u.resize(),u}},1361:function(t,e,n){var i=n(216),a=n(224).parsePercent,o=n(369).isDimensionStacked;function r(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function s(t,e){return e.dim+t.model.componentIndex}t.exports=function(t,e,n){var u={},l=function(t){var e={};i.each(t,(function(t,n){var i=t.getData(),o=t.coordinateSystem,u=o.getBaseAxis(),l=s(o,u),c=u.getExtent(),h="category"===u.type?u.getBandWidth():Math.abs(c[1]-c[0])/i.count(),d=e[l]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},p=d.stacks;e[l]=d;var f=r(t);p[f]||d.autoWidthCount++,p[f]=p[f]||{width:0,maxWidth:0};var m=a(t.get("barWidth"),h),g=a(t.get("barMaxWidth"),h),v=t.get("barGap"),y=t.get("barCategoryGap");m&&!p[f].width&&(m=Math.min(d.remainedWidth,m),p[f].width=m,d.remainedWidth-=m),g&&(p[f].maxWidth=g),null!=v&&(d.gap=v),null!=y&&(d.categoryGap=y)}));var n={};return i.each(e,(function(t,e){n[e]={};var o=t.stacks,r=t.bandWidth,s=a(t.categoryGap,r),u=a(t.gap,1),l=t.remainedWidth,c=t.autoWidthCount,h=(l-s)/(c+(c-1)*u);h=Math.max(h,0),i.each(o,(function(t,e){var n=t.maxWidth;n&&n<h&&(n=Math.min(n,l),t.width&&(n=Math.min(n,t.width)),l-=n,t.width=n,c--)})),h=(l-s)/(c+(c-1)*u),h=Math.max(h,0);var d,p=0;i.each(o,(function(t,e){t.width||(t.width=h),p+=(d=t).width*(1+u)})),d&&(p-=d.width*u);var f=-p/2;i.each(o,(function(t,i){n[e][i]=n[e][i]||{offset:f,width:t.width},f+=t.width*(1+u)}))})),n}(i.filter(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=s(n,i),c=r(t),h=l[a][c],d=h.offset,p=h.width,f=n.getOtherAxis(i),m=t.coordinateSystem.cx,g=t.coordinateSystem.cy,v=t.get("barMinHeight")||0,y=t.get("barMinAngle")||0;u[c]=u[c]||[];for(var x=e.mapDimension(f.dim),M=e.mapDimension(i.dim),T=o(e,x),b="radius"!==i.dim||!t.get("roundCap",!0),_=f.getExtent()[0],D=0,w=e.count();D<w;D++){var I=e.get(x,D),S=e.get(M,D);if(!isNaN(I)){var O,C,A,k,W=0<=I?"p":"n",P=_;if(T&&(u[c][S]||(u[c][S]={p:_,n:_}),P=u[c][S][W]),"radius"===f.dim){var B=f.dataToRadius(I)-_,N=i.dataToAngle(S);Math.abs(B)<v&&(B=(B<0?-1:1)*v),C=(O=P)+B,k=(A=N-d)-p,T&&(u[c][S][W]=C)}else{var L=f.dataToAngle(I,b)-_,z=i.dataToRadius(S);Math.abs(L)<y&&(L=(L<0?-1:1)*y),C=(O=z+d)+p,k=(A=P)+L,T&&(u[c][S][W]=k)}e.setItemLayout(D,{cx:m,cy:g,r0:O,r:C,startAngle:-A*Math.PI/180,endAngle:-k*Math.PI/180})}}}}),this)}},263:function(t,e,n){var i=n(216),a=n(262),o=n(228).makeInner,r=n(477),s=r.enableClassExtend,u=r.enableClassCheck,l=n(1167),c=n(1168),h=n(1169),d=n(1182),p=i.mixin,f=o();function m(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function g(t,e,n){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==typeof t?t[e[i]]:null));i++);return null==t&&n&&(t=n.get(e)),t}function v(t,e){var n=f(t).getParent;return n?n.call(t,e):t.parentModel}m.prototype={constructor:m,init:null,mergeOption:function(t){i.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:g(this.option,this.parsePath(t),!e&&v(this,t))},getShallow:function(t,e){var n=this.option,i=null==n?n:n[t],a=!e&&v(this,t);return null==i&&a&&(i=a.getShallow(t)),i},getModel:function(t,e){var n;return new m(null==t?this.option:g(this.option,t=this.parsePath(t)),e=e||(n=v(this,t))&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(i.clone(this.option))},setReadOnly:function(){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){f(this).getParent=t},isAnimationEnabled:function(){if(!a.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},s(m),u(m),p(m,l),p(m,c),p(m,h),p(m,d);var y=m;t.exports=y},271:function(t,e,n){var i=n(216),a=n(263),o=n(626),r=n(477),s=r.enableClassManagement,u=r.parseClassType,l=n(228).makeInner,c=n(240),h=n(1183),d=l(),p=a.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,i){a.call(this,t,e,n,i),this.uid=o.getUID("ec_cpt_model")},init:function(t,e,n){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,a=n?c.getLayoutParams(t):{},o=e.getTheme();i.merge(t,o.get(this.mainType)),i.merge(t,this.getDefaultOption()),n&&c.mergeLayoutParam(t,a,n)},mergeOption:function(t){i.merge(this.option,t,!0);var e=this.layoutMode;e&&c.mergeLayoutParam(this.option,t,e)},optionUpdated:function(){},getDefaultOption:function(){var t=d(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var a=n.prototype.defaultOption;a&&e.push(a),n=n.superClass}for(var o={},r=e.length-1;0<=r;r--)o=i.merge(o,e[r],!0);t.defaultOption=o}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});s(p,{registerWhenExtend:!0}),o.enableSubTypeDefaulter(p),o.enableTopologicalTravel(p,(function(t){var e=[];return i.each(p.getClassesByMainType(t),(function(t){e=e.concat(t.prototype.dependencies||[])})),e=i.map(e,(function(t){return u(t).main})),"dataset"!==t&&i.indexOf(e,"dataset")<=0&&e.unshift("dataset"),e})),i.mixin(p,h);var f=p;t.exports=f},272:function(t,e,n){n(232).__DEV__;var i=n(216),a=n(262),o=n(247),r=o.formatTime,s=o.encodeHTML,u=o.addCommas,l=o.getTooltipMarker,c=n(228),h=n(271),d=n(826),p=n(709),f=n(240),m=f.getLayoutParams,g=f.mergeLayoutParam,v=n(710).createTask,y=n(478),x=y.prepareSource,M=y.getSource,T=n(596).retrieveRawValue,b=c.makeInner(),_=h.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=v({count:w,reset:I}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),x(this);var i=this.getInitialData(t,n);O(i,this),this.dataTask.context.data=i,b(this).dataBeforeProcessed=i,D(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,a=n?m(t):{},o=this.subType;h.hasClass(o)&&(o+="Series"),i.merge(t,e.getTheme().get(this.subType)),i.merge(t,this.getDefaultOption()),c.defaultEmphasis(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&g(t,a,n)},mergeOption:function(t,e){t=i.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&g(this.option,t,n),x(this);var a=this.getInitialData(t,e);O(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,b(this).dataBeforeProcessed=a,D(this)},fillDataTextStyle:function(t){if(t&&!i.isTypedArray(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&c.defaultEmphasis(t[n],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=A(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return b(this).data},setData:function(t){var e=A(this);if(e){var n=e.context;n.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),n.outputData=t,e!==this.dataTask&&(n.data=t)}b(this).data=t},getSource:function(){return M(this)},getRawData:function(){return b(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n,a){var o=this,h="html"===(a=a||"html")?"<br/>":"\n",d="richText"===a,p={},f=0;var m=this.getData(),g=m.mapDimension("defaultedTooltip",!0),v=g.length,y=this.getRawValue(t),x=i.isArray(y),M=m.getItemVisual(t,"color");i.isObject(M)&&M.colorStops&&(M=(M.colorStops[0]||{}).color),M=M||"transparent";var b=(1<v||x&&!v?function(n){var c=i.reduce(n,(function(t,e,n){var i=m.getDimensionInfo(n);return t|(i&&!1!==i.tooltip&&null!=i.displayName)}),0),h=[];function v(t,n){var i=m.getDimensionInfo(n);if(i&&!1!==i.otherDims.tooltip){var g=i.type,v="sub"+o.seriesIndex+"at"+f,y=l({color:M,type:"subItem",renderMode:a,markerId:v}),x="string"==typeof y?y:y.content,T=(c?x+s(i.displayName||"-")+": ":"")+s("ordinal"===g?t+"":"time"===g?e?"":r("yyyy/MM/dd hh:mm:ss",t):u(t));T&&h.push(T),d&&(p[v]=M,++f)}}g.length?i.each(g,(function(e){v(T(m,t,e),e)})):i.each(n,v);var y=c?d?"\n":"<br/>":"",x=y+h.join(y||", ");return{renderMode:a,content:x,style:p}}(y):function(t){return{renderMode:a,content:s(u(t)),style:p}}(v?T(m,t,g[0]):x?y[0]:y)).content,_=o.seriesIndex+"at"+f,D=l({color:M,type:"item",renderMode:a,markerId:_});p[_]=M,++f;var w=m.getName(t),I=this.name;c.isNameSpecified(this)||(I=""),I=I?s(I)+(e?": ":h):"";var S="string"==typeof D?D:D.content;return{html:e?S+I+b:I+S+(w?s(w)+": "+b:b),markers:p}},isAnimationEnabled:function(){if(a.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var i=this.ecModel,a=d.getColorFromPalette.call(this,t,e,n);return a||i.getColorFromPalette(t,e,n)},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function D(t){var e,n,a,o=t.name;c.isNameSpecified(t)||(t.name=(n=(e=t.getRawData()).mapDimension("seriesName",!0),a=[],i.each(n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&a.push(n.displayName)})),a.join(" ")||o))}function w(t){return t.model.getRawData().count()}function I(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),S}function S(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function O(t,e){i.each(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,i.curry(C,e))}))}function C(t){var e=A(t);e&&e.setOutputEnd(this.count())}function A(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var a=i.agentStubMap;a&&(i=a.get(t.uid))}return i}}i.mixin(_,p),i.mixin(_,d);var k=_;t.exports=k},632:function(t,e,n){var i=n(216).map,a=n(610),o=n(369).isDimensionStacked;t.exports=function(t){return{seriesType:t,plan:a(),reset:function(t){var e=t.getData(),n=t.coordinateSystem,a=t.pipelineContext.large;if(n){var r=i(n.dimensions,(function(t){return e.mapDimension(t)})).slice(0,2),s=r.length,u=e.getCalculationInfo("stackResultDimension");return o(e,r[0])&&(r[0]=u),o(e,r[1])&&(r[1]=u),s&&{progress:function(t,e){for(var i=t.end-t.start,o=a&&new Float32Array(i*s),u=t.start,l=0,c=[],h=[];u<t.end;u++){var d;if(1===s){var p=e.get(r[0],u);d=!isNaN(p)&&n.dataToPoint(p,null,h)}else{p=c[0]=e.get(r[0],u);var f=c[1]=e.get(r[1],u);d=!isNaN(p)&&!isNaN(f)&&n.dataToPoint(c,null,h)}a?(o[l++]=d?d[0]:NaN,o[l++]=d?d[1]:NaN):e.setItemLayout(u,d&&d.slice()||[NaN,NaN])}a&&e.setLayout("symbolPoints",o)}}}}}}},658:function(t,e,n){var i=n(216),a=n(224).parsePercent,o=n(369).isDimensionStacked,r=n(610),s="__ec_stack_",u="undefined"!=typeof Float32Array?Float32Array:Array;function l(t){return t.get("stack")||s+t.seriesIndex}function c(t){return t.dim+t.index}function h(t,e){var n=[];return e.eachSeriesByType(t,(function(t){g(t)&&!v(t)&&n.push(t)})),n}function d(t){var e=function(t){var e={};i.each(t,(function(t){var n=t.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=t.getData(),a=n.dim+"_"+n.index,o=i.mapDimension(n.dim),r=0,s=i.count();r<s;++r){var u=i.get(o,r);e[a]?e[a].push(u):e[a]=[u]}}));var n=[];for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];if(o){o.sort((function(t,e){return t-e}));for(var r=null,s=1;s<o.length;++s){var u=o[s]-o[s-1];0<u&&(r=null===r?u:Math.min(r,u))}n[a]=r}}return n}(t),n=[];return i.each(t,(function(t){var i,o=t.coordinateSystem.getBaseAxis(),r=o.getExtent();if("category"===o.type)i=o.getBandWidth();else if("value"===o.type||"time"===o.type){var s=o.dim+"_"+o.index,u=e[s],h=Math.abs(r[1]-r[0]),d=o.scale.getExtent(),p=Math.abs(d[1]-d[0]);i=u?h/p*u:h}else{var f=t.getData();i=Math.abs(r[1]-r[0])/f.count()}var m=a(t.get("barWidth"),i),g=a(t.get("barMaxWidth"),i),v=a(t.get("barMinWidth")||1,i),y=t.get("barGap"),x=t.get("barCategoryGap");n.push({bandWidth:i,barWidth:m,barMaxWidth:g,barMinWidth:v,barGap:y,barCategoryGap:x,axisKey:c(o),stackId:l(t)})})),p(n)}function p(t){var e={};i.each(t,(function(t,n){var i=t.axisKey,a=t.bandWidth,o=e[i]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},r=o.stacks;e[i]=o;var s=t.stackId;r[s]||o.autoWidthCount++,r[s]=r[s]||{width:0,maxWidth:0};var u=t.barWidth;u&&!r[s].width&&(r[s].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var l=t.barMaxWidth;l&&(r[s].maxWidth=l);var c=t.barMinWidth;c&&(r[s].minWidth=c);var h=t.barGap;null!=h&&(o.gap=h);var d=t.barCategoryGap;null!=d&&(o.categoryGap=d)}));var n={};return i.each(e,(function(t,e){n[e]={};var o=t.stacks,r=t.bandWidth,s=a(t.categoryGap,r),u=a(t.gap,1),l=t.remainedWidth,c=t.autoWidthCount,h=(l-s)/(c+(c-1)*u);h=Math.max(h,0),i.each(o,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width)i=t.width,e&&(i=Math.min(i,e)),n&&(i=Math.max(i,n)),t.width=i,l-=i+u*i,c--;else{var i=h;e&&e<i&&(i=Math.min(e,l)),n&&i<n&&(i=n),i!==h&&(t.width=i,l-=i+u*i,c--)}})),h=(l-s)/(c+(c-1)*u),h=Math.max(h,0);var d,p=0;i.each(o,(function(t,e){t.width||(t.width=h),p+=(d=t).width*(1+u)})),d&&(p-=d.width*u);var f=-p/2;i.each(o,(function(t,i){n[e][i]=n[e][i]||{bandWidth:r,offset:f,width:t.width},f+=t.width*(1+u)}))})),n}function f(t,e,n){if(t&&e){var i=t[c(e)];return null!=i&&null!=n&&(i=i[l(n)]),i}}var m={seriesType:"bar",plan:r(),reset:function(t){if(g(t)&&v(t)){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),o=e.mapDimension(a.dim),r=e.mapDimension(i.dim),s=a.isHorizontal(),l=s?0:1,c=f(d([t]),i,t).width;return.5<c||(c=.5),{progress:function(t,e){for(var h,d=t.count,p=new u(2*d),f=new u(d),m=[],g=[],v=0,x=0;null!=(h=t.next());)g[l]=e.get(o,h),g[1-l]=e.get(r,h),m=n.dataToPoint(g,null,m),p[v++]=m[0],p[v++]=m[1],f[x++]=h;e.setLayout({largePoints:p,largeDataIndices:f,barWidth:c,valueAxisStart:y(i,a),valueAxisHorizontal:s})}}}}};function g(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function v(t){return t.pipelineContext&&t.pipelineContext.large}function y(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}e.getLayoutOnAxis=function(t){var e=[],n=t.axis;if("category"===n.type){for(var a=n.getBandWidth(),o=0;o<t.count;o++)e.push(i.defaults({bandWidth:a,axisKey:"axis0",stackId:s+o},t));var r=p(e),u=[];for(o=0;o<t.count;o++){var l=r.axis0[s+o];l.offsetCenter=l.offset+l.width/2,u.push(l)}return u}},e.prepareLayoutBarSeries=h,e.makeColumnLayout=d,e.retrieveColumnLayout=f,e.layout=function(t,e){var n=h(t,e),a=d(n),r={},s={};i.each(n,(function(t){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),u=l(t),h=a[c(i)][u],d=h.offset,p=h.width,f=n.getOtherAxis(i),m=t.get("barMinHeight")||0;r[u]=r[u]||[],s[u]=s[u]||[],e.setLayout({bandWidth:h.bandWidth,offset:d,size:p});for(var g=e.mapDimension(f.dim),v=e.mapDimension(i.dim),x=o(e,g),M=f.isHorizontal(),T=y(0,f),b=0,_=e.count();b<_;b++){var D=e.get(g,b),w=e.get(v,b);if(!isNaN(D)&&!isNaN(w)){var I,S,O,C,A,k=0<=D?"p":"n",W=T;x&&(r[u][w]||(r[u][w]={p:T,n:T}),W=r[u][w][k]),M?(I=W,S=(A=n.dataToPoint([D,w]))[1]+d,O=A[0]-T,C=p,Math.abs(O)<m&&(O=(O<0?-1:1)*m),x&&(r[u][w][k]+=O)):(I=(A=n.dataToPoint([w,D]))[0]+d,S=W,O=p,C=A[1]-T,Math.abs(C)<m&&(C=(C<=0?-1:1)*m),x&&(r[u][w][k]+=C)),e.setItemLayout(b,{x:I,y:S,width:O,height:C})}}}),this)},e.largeLayout=m},814:function(t,e,n){n(232).__DEV__;var i=n(216),a=i.each,o=i.filter,r=i.map,s=i.isArray,u=i.indexOf,l=i.isObject,c=i.isString,h=i.createHashMap,d=i.assert,p=i.clone,f=i.merge,m=i.extend,g=i.mixin,v=n(228),y=n(263),x=n(271),M=n(1184),T=n(826),b=n(478).resetSourceDefaulter,_="\0_ec_inner",D=y.extend({init:function(t,e,n,i){n=n||{},this.option=null,this._theme=new y(n),this._optionManager=i},setOption:function(t,e){d(!(_ in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var i=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(i)):function(t){t=t,this.option={},this.option[_]=1,this._componentsMap=h({series:[]}),this._seriesIndices,this._seriesIndicesMap,function(t,e){var n=t.color&&!t.colorLayer;a(e,(function(e,i){"colorLayer"===i&&n||x.hasClass(i)||("object"==typeof e?t[i]=t[i]?f(t[i],e,!1):p(e):null==t[i]&&(t[i]=e))}))}(t,this._theme.option),f(t,M,!1),this.mergeOption(t)}.call(this,i),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||"recreate"===t||"media"===t){var r=n.getMediaOption(this,this._api);r.length&&a(r,(function(t){this.mergeOption(t,e=!0)}),this)}return e},mergeOption:function(t){var e=this.option,n=this._componentsMap,i=[];b(this),a(t,(function(t,n){null!=t&&(x.hasClass(n)?n&&i.push(n):e[n]=null==e[n]?p(t):f(e[n],t,!0))})),x.topologicalTravel(i,x.getAllClassMainTypes(),(function(i,o){var r=v.normalizeToArray(t[i]),u=v.mappingToExists(n.get(i),r);v.makeIdAndName(u),a(u,(function(t,e){var n,a,o,r=t.option;l(r)&&(t.keyInfo.mainType=i,t.keyInfo.subType=(n=i,a=r,o=t.exist,a.type?a.type:o?o.subType:x.determineSubType(n,a)))}));var c=function(t,e){s(e)||(e=e?[e]:[]);var n={};return a(e,(function(e){n[e]=(t.get(e)||[]).slice()})),n}(n,o);e[i]=[],n.set(i,[]),a(u,(function(t,a){var o=t.exist,r=t.option;if(d(l(r)||o,"Empty component definition"),r){var s=x.getClass(i,t.keyInfo.subType,!0);if(o&&o.constructor===s)o.name=t.keyInfo.name,o.mergeOption(r,this),o.optionUpdated(r,!1);else{var u=m({dependentModels:c,componentIndex:a},t.keyInfo);o=new s(r,this,this,u),m(o,u),o.init(r,this,this,u),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);n.get(i)[a]=o,e[i][a]=o.option}),this),"series"===i&&w(this,n.get("series"))}),this),this._seriesIndicesMap=h(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=p(this.option);return a(t,(function(e,n){if(x.hasClass(n)){for(var i=(e=v.normalizeToArray(e)).length-1;0<=i;i--)v.isIdInner(e[i])&&e.splice(i,1);t[n]=e}})),delete t[_],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,i=t.index,a=t.id,l=t.name,c=this._componentsMap.get(e);if(!c||!c.length)return[];if(null!=i)s(i)||(i=[i]),n=o(r(i,(function(t){return c[t]})),(function(t){return!!t}));else if(null!=a){var h=s(a);n=o(c,(function(t){return h&&0<=u(a,t.id)||!h&&t.id===a}))}else if(null!=l){var d=s(l);n=o(c,(function(t){return d&&0<=u(l,t.name)||!d&&t.name===l}))}else n=c.slice();return I(n,t)},findComponents:function(t){var e,n,i,a,r,s=t.query,u=t.mainType,l=(n=u+"Index",i=u+"Id",a=u+"Name",!(e=s)||null==e[n]&&null==e[i]&&null==e[a]?null:{mainType:u,index:e[n],id:e[i],name:e[a]});return r=I(l?this.queryComponents(l):this._componentsMap.get(u),t),t.filter?o(r,t.filter):r},eachComponent:function(t,e,n){var i=this._componentsMap;if("function"==typeof t)n=e,e=t,i.each((function(t,i){a(t,(function(t,a){e.call(n,i,t,a)}))}));else if(c(t))a(i.get(t),e,n);else if(l(t)){var o=this.findComponents(t);a(o,e,n)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return o(e,(function(e){return e.name===t}))},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return o(e,(function(e){return e.subType===t}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){a(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];t.call(e,i,n)}),this)},eachRawSeries:function(t,e){a(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){a(this._seriesIndices,(function(i){var a=this._componentsMap.get("series")[i];a.subType===t&&e.call(n,a,i)}),this)},eachRawSeriesByType:function(t,e,n){return a(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){w(this,o(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;w(this,e.get("series"));var n=[];e.each((function(t,e){n.push(e)})),x.topologicalTravel(n,x.getAllClassMainTypes(),(function(n,i){a(e.get(n),(function(e){"series"===n&&function(t,e){if(e){var n=e.seiresIndex,i=e.seriesId,a=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=a&&t.name!==a}}(e,t)||e.restoreData()}))}))}});function w(t,e){t._seriesIndicesMap=h(t._seriesIndices=r(e,(function(t){return t.componentIndex}))||[])}function I(t,e){return e.hasOwnProperty("subType")?o(t,(function(t){return t.subType===e.subType})):t}g(D,T);var S=D;t.exports=S}}]);