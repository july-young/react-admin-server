(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[36],{1424:function(e,t,n){n(871),n(1427),n(1428),n(1429)},1425:function(e,t,n){var o=n(220),i=n(216);function r(e,t,n){var o,r={},a="toggleSelected"===e;return n.eachComponent("legend",(function(n){a&&null!=o?n[o?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?n[e]():(n[e](t.name),o=n.isSelected(t.name));var l=n.getData();i.each(l,(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var o=n.isSelected(t);r.hasOwnProperty(t)?r[t]=r[t]&&o:r[t]=o}}))})),"allSelect"===e||"inverseSelect"===e?{selected:r}:{name:t.name,selected:r}}o.registerAction("legendToggleSelect","legendselectchanged",i.curry(r,"toggleSelected")),o.registerAction("legendAllSelect","legendselectall",i.curry(r,"allSelect")),o.registerAction("legendInverseSelect","legendinverseselect",i.curry(r,"inverseSelect")),o.registerAction("legendSelect","legendselected",i.curry(r,"select")),o.registerAction("legendUnSelect","legendunselected",i.curry(r,"unSelect"))},1426:function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0}))}},1427:function(e,t,n){var o=n(872),i=n(240),r=i.mergeLayoutParam,a=i.getLayoutParams,l=o.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,n,o){var i=a(e);l.superCall(this,"init",e,t,n,o),s(this,e,i)},mergeOption:function(e,t){l.superCall(this,"mergeOption",e,t),s(this,this.option,e)}});function s(e,t,n){var o=[1,1];o[e.getOrient().index]=0,r(t,n,{type:"box",ignoreSize:o})}var c=l;e.exports=c},1428:function(e,t,n){var o=n(216),i=n(222),r=n(240),a=n(873),l=i.Group,s=["width","height"],c=["x","y"],g=a.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){g.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new l),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new l),this._showController},resetInner:function(){g.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,n,r,a,l,s){var c=this;g.superCall(this,"renderInner",e,t,n,r,a,l,s);var d=this._controllerGroup,u=t.get("pageIconSize",!0);o.isArray(u)||(u=[u,u]),h("pagePrev",0);var p=t.getModel("pageTextStyle");function h(e,n){var a=e+"DataIndex",l=i.createIcon(t.get("pageIcons",!0)[t.getOrient().name][n],{onclick:o.bind(c._pageGo,c,a,t,r)},{x:-u[0]/2,y:-u[1]/2,width:u[0],height:u[1]});l.name=e,d.add(l)}d.add(new i.Text({name:"pageText",style:{textFill:p.getTextColor(),font:p.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),h("pageNext",1)},layoutInner:function(e,t,n,i,a,l){var g=this.getSelectorGroup(),d=e.getOrient().index,u=s[d],p=c[d],h=s[1-d],f=c[1-d];a&&r.box("horizontal",g,e.get("selectorItemGap",!0));var v=e.get("selectorButtonGap",!0),m=g.getBoundingRect(),x=[-m.x,-m.y],y=o.clone(n);a&&(y[u]=n[u]-m[u]-v);var S=this._layoutContentAndController(e,i,y,d,u,h,f);if(a){if("end"===l)x[d]+=S[u]+v;else{var I=m[u]+v;x[d]-=I,S[p]-=I}S[u]+=m[u]+v,x[1-d]+=S[f]+S[h]/2-m[h]/2,S[h]=Math.max(S[h],m[h]),S[f]=Math.min(S[f],m[f]+x[1-d]),g.attr("position",x)}return S},_layoutContentAndController:function(e,t,n,a,l,s,c){var g=this.getContentGroup(),d=this._containerGroup,u=this._controllerGroup;r.box(e.get("orient"),g,e.get("itemGap"),a?n.width:null,a?null:n.height),r.box("horizontal",u,e.get("pageButtonItemGap",!0));var p=g.getBoundingRect(),h=u.getBoundingRect(),f=this._showController=p[l]>n[l],v=[-p.x,-p.y];t||(v[a]=g.position[a]);var m=[0,0],x=[-h.x,-h.y],y=o.retrieve2(e.get("pageButtonGap",!0),e.get("itemGap",!0));f&&("end"===e.get("pageButtonPosition",!0)?x[a]+=n[l]-h[l]:m[a]+=h[l]+y),x[1-a]+=p[s]/2-h[s]/2,g.attr("position",v),d.attr("position",m),u.attr("position",x);var S={x:0,y:0};if(S[l]=f?n[l]:p[l],S[s]=Math.max(p[s],h[s]),S[c]=Math.min(0,h[c]+x[1-a]),d.__rectSize=n[l],f){var I={x:0,y:0};I[l]=Math.max(n[l]-h[l]-y,0),I[s]=S[s],d.setClipPath(new i.Rect({shape:I})),d.__rectSize=I[l]}else u.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var _=this._getPageInfo(e);return null!=_.pageIndex&&i.updateProps(g,{position:_.contentPosition},f&&e),this._updatePageInfoView(e,_),S},_pageGo:function(e,t,n){var o=this._getPageInfo(t)[e];null!=o&&n.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:t.id})},_updatePageInfoView:function(e,t){var n=this._controllerGroup;o.each(["pagePrev","pageNext"],(function(o){var i=null!=t[o+"DataIndex"],r=n.childOfName(o);r&&(r.setStyle("fill",i?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),r.cursor=i?"pointer":"default")}));var i=n.childOfName("pageText"),r=e.get("pageFormatter"),a=t.pageIndex,l=null!=a?a+1:0,s=t.pageCount;i&&r&&i.setStyle("text",o.isString(r)?r.replace("{current}",l).replace("{total}",s):r({current:l,total:s}))},_getPageInfo:function(e){var t=e.get("scrollDataIndex",!0),n=this.getContentGroup(),o=this._containerGroup.__rectSize,i=e.getOrient().index,r=s[i],a=c[i],l=this._findTargetItemIndex(t),g=n.children(),d=g[l],u=g.length,p=u?1:0,h={contentPosition:n.position.slice(),pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return h;var f=S(d);h.contentPosition[i]=-f.s;for(var v=l+1,m=f,x=f,y=null;v<=u;++v)(!(y=S(g[v]))&&x.e>m.s+o||y&&!I(y,m.s))&&(m=x.i>m.i?x:y)&&(null==h.pageNextDataIndex&&(h.pageNextDataIndex=m.i),++h.pageCount),x=y;for(v=l-1,m=f,x=f,y=null;-1<=v;--v)(y=S(g[v]))&&I(x,y.s)||!(m.i<x.i)||(x=m,null==h.pagePrevDataIndex&&(h.pagePrevDataIndex=m.i),++h.pageCount,++h.pageIndex),m=y;return h;function S(e){if(e){var t=e.getBoundingRect(),n=t[a]+e.position[i];return{s:n,e:n+t[r],i:e.__legendDataIndex}}}function I(e,t){return e.e>=t&&e.s<=t+o}},_findTargetItemIndex:function(e){var t,n,o=this.getContentGroup();return this._showController&&o.eachChild((function(o,i){var r=o.__legendDataIndex;null==n&&null!=r&&(n=i),r===e&&(t=i)})),null!=t?t:n}}),d=g;e.exports=d},1429:function(e,t,n){n(220).registerAction("legendScroll","legendscroll",(function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(n)}))}))},871:function(e,t,n){var o=n(220);n(872),n(1425),n(873);var i=n(1426),r=n(271);o.registerProcessor(o.PRIORITY.PROCESSOR.SERIES_FILTER,i),r.registerSubTypeDefaulter("legend",(function(){return"plain"}))},872:function(e,t,n){var o=n(220),i=n(216),r=n(263),a=n(228).isNameSpecified,l=n(495).legend.selector,s={all:{type:"all",title:i.clone(l.all)},inverse:{type:"inverse",title:i.clone(l.inverse)}},c=o.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){c.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;!0===t&&(t=e.selector=["all","inverse"]),i.isArray(t)&&i.each(t,(function(e,n){i.isString(e)&&(e={type:e}),t[n]=i.merge(e,s[e.type])}))},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var o=e[n].get("name");if(this.isSelected(o)){this.select(o),t=!0;break}}t||this.select(e[0].get("name"))}},_updateData:function(e){var t=[],n=[];e.eachRawSeries((function(o){var i,r=o.name;if(n.push(r),o.legendVisualProvider){var l=o.legendVisualProvider.getAllNames();e.isSeriesFiltered(o)||(n=n.concat(l)),l.length?t=t.concat(l):i=!0}else i=!0;i&&a(o)&&t.push(o.name)})),this._availableNames=n;var o=this.get("data")||t,l=i.map(o,(function(e){return"string"!=typeof e&&"number"!=typeof e||(e={name:e}),new r(e,this,this.ecModel)}),this);this._data=l},getData:function(){return this._data},select:function(e){var t=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;i.each(n,(function(e){t[e.get("name")]=!1}))}t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var e=this._data,t=this.option.selected;i.each(e,(function(e){t[e.get("name",!0)]=!0}))},inverseSelect:function(){var e=this._data,t=this.option.selected;i.each(e,(function(e){var n=e.get("name",!0);t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]}))},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&0<=i.indexOf(this._availableNames,e)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),g=c;e.exports=g},873:function(e,t,n){n(232).__DEV__;var o=n(220),i=n(216),r=n(327).createSymbol,a=n(222),l=n(868).makeBackground,s=n(240),c=i.curry,g=i.each,d=a.Group,u=o.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new d),this._backgroundEl,this.group.add(this._selectorGroup=new d),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,n){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var r=e.get("align"),a=e.get("orient");r&&"auto"!==r||(r="right"===e.get("left")&&"vertical"===a?"right":"left");var c=e.get("selector",!0),g=e.get("selectorPosition",!0);!c||g&&"auto"!==g||(g="horizontal"===a?"end":"start"),this.renderInner(r,e,t,n,c,a,g);var d=e.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},p=e.get("padding"),h=s.getLayoutRect(d,u,p),f=this.layoutInner(e,r,h,o,c,g),v=s.getLayoutRect(i.defaults({width:f.width,height:f.height},d),u,p);this.group.attr("position",[v.x-f.x,v.y-f.y]),this.group.add(this._backgroundEl=l(f,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,n,o,r,a,l){var s=this.getContentGroup(),u=i.createHashMap(),p=t.get("selectedMode"),m=[];n.eachRawSeries((function(e){e.get("legendHoverLink")||m.push(e.id)})),g(t.getData(),(function(i,r){var a=i.get("name");if(this.newlineDisabled||""!==a&&"\n"!==a){var l=n.getSeriesByName(a)[0];if(!u.get(a))if(l){var g=l.getData(),x=g.getVisual("color"),y=g.getVisual("borderColor");"function"==typeof x&&(x=x(l.getDataParams(0))),"function"==typeof y&&(y=y(l.getDataParams(0)));var S=g.getVisual("legendSymbol")||"roundRect",I=g.getVisual("symbol");this._createItem(a,r,i,t,S,I,e,x,y,p).on("click",c(h,a,null,o,m)).on("mouseover",c(f,l.name,null,o,m)).on("mouseout",c(v,l.name,null,o,m)),u.set(a,!0)}else n.eachRawSeries((function(n){if(!u.get(a)&&n.legendVisualProvider){var l=n.legendVisualProvider;if(!l.containName(a))return;var s=l.indexOfName(a),g=l.getItemVisual(s,"color"),d=l.getItemVisual(s,"borderColor");this._createItem(a,r,i,t,"roundRect",null,e,g,d,p).on("click",c(h,null,a,o,m)).on("mouseover",c(f,null,a,o,m)).on("mouseout",c(v,null,a,o,m)),u.set(a,!0)}}),this)}else s.add(new d({newline:!0}))}),this),r&&this._createSelector(r,t,o,a,l)},_createSelector:function(e,t,n){var o=this.getSelectorGroup();g(e,(function(e){!function(e){var i=e.type,r=new a.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r);var l=t.getModel("selectorLabel"),s=t.getModel("emphasis.selectorLabel");a.setLabelStyle(r.style,r.hoverStyle={},l,s,{defaultText:e.title,isRectText:!1}),a.setHoverStyle(r)}(e)}))},_createItem:function(e,t,n,o,l,s,c,g,u,h){var f=o.get("itemWidth"),v=o.get("itemHeight"),m=o.get("inactiveColor"),x=o.get("inactiveBorderColor"),y=o.get("symbolKeepAspect"),S=o.getModel("itemStyle"),I=o.isSelected(e),_=new d,C=n.getModel("textStyle"),b=n.get("icon"),G=n.getModel("tooltip"),w=G.parentModel,P=r(l=b||l,0,0,f,v,I?g:m,null==y||y);if(_.add(p(P,l,S,u,x,I)),!b&&s&&(s!==l||"none"===s)){var D=.8*v;"none"===s&&(s="circle");var R=r(s,(f-D)/2,(v-D)/2,D,D,I?g:m,null==y||y);_.add(p(R,s,S,u,x,I))}var A="left"===c?f+5:-5,M=c,L=o.get("formatter"),O=e;"string"==typeof L&&L?O=L.replace("{name}",null!=e?e:""):"function"==typeof L&&(O=L(e)),_.add(new a.Text({style:a.setTextStyle({},C,{text:O,x:A,y:v/2,textFill:I?C.getTextColor():m,textAlign:M,textVerticalAlign:"middle"})}));var T=new a.Rect({shape:_.getBoundingRect(),invisible:!0,tooltip:G.get("show")?i.extend({content:e,formatter:w.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:o.componentIndex,name:e,$vars:["name"]}},G.option):null});return _.add(T),_.eachChild((function(e){e.silent=!0})),T.silent=!h,this.getContentGroup().add(_),a.setHoverStyle(_),_.__legendDataIndex=t,_},layoutInner:function(e,t,n,o,i,r){var a=this.getContentGroup(),l=this.getSelectorGroup();s.box(e.get("orient"),a,e.get("itemGap"),n.width,n.height);var c=a.getBoundingRect(),g=[-c.x,-c.y];if(i){s.box("horizontal",l,e.get("selectorItemGap",!0));var d=l.getBoundingRect(),u=[-d.x,-d.y],p=e.get("selectorButtonGap",!0),h=e.getOrient().index,f=0===h?"width":"height",v=0===h?"height":"width",m=0===h?"y":"x";"end"===r?u[h]+=c[f]+p:g[h]+=d[f]+p,u[1-h]+=c[v]/2-d[v]/2,l.attr("position",u),a.attr("position",g);var x={x:0,y:0};return x[f]=c[f]+p+d[f],x[v]=Math.max(c[v],d[v]),x[m]=Math.min(0,d[m]+u[1-h]),x}return a.attr("position",g),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function p(e,t,n,o,i,r){var a;return"line"!==t&&t.indexOf("empty")<0?(a=n.getItemStyle(),e.style.stroke=o,r||(a.stroke=i)):a=n.getItemStyle(["borderWidth","borderColor"]),e.setStyle(a)}function h(e,t,n,o){v(e,t,n,o),n.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),f(e,t,n,o)}function f(e,t,n,o){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:o})}function v(e,t,n,o){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:o})}e.exports=u}}]);